<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Scala语法学习 | Cquang博客</title><meta name="keywords" content="Scala,大数据"><meta name="author" content="Cai XianQuan"><meta name="copyright" content="Cai XianQuan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="参考尚学堂scala视频学习笔记，方便复习scala语法知识点">
<meta property="og:type" content="article">
<meta property="og:title" content="Scala语法学习">
<meta property="og:url" content="https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Cquang博客">
<meta property="og:description" content="参考尚学堂scala视频学习笔记，方便复习scala语法知识点">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg">
<meta property="article:published_time" content="2021-08-31T02:10:50.000Z">
<meta property="article:modified_time" content="2021-09-03T02:08:52.333Z">
<meta property="article:author" content="Cai XianQuan">
<meta property="article:tag" content="大数据">
<meta property="article:tag" content="Scala">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg"><link rel="shortcut icon" href="/myblog/img/favicon1.png"><link rel="canonical" href="https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/myblog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/myblog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-09-03 10:08:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="/myblog/css/VolantisTags.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/myblog/img/%E5%A4%B4%E5%83%8F.gif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/myblog/archives/"><div class="headline">文章</div><div class="length-num">29</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/myblog/tags/"><div class="headline">标签</div><div class="length-num">40</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/myblog/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myblog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 享受时光</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/myblog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/myblog/">Cquang博客</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/myblog/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/myblog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 享受时光</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/myblog/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">Scala语法学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-31T02:10:50.000Z" title="发表于 2021-08-31 10:10:50">2021-08-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-03T02:08:52.333Z" title="更新于 2021-09-03 10:08:52">2021-09-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/myblog/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0/">大数据学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/myblog/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0/Scala/">Scala</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">17.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>72分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Scala与Java语法区别点"><a href="#Scala与Java语法区别点" class="headerlink" title="Scala与Java语法区别点"></a>Scala与Java语法区别点</h1><ol>
<li>java是面向对象语言【有基本类型，int，null值，static】，Scala是完全面向对象语言</li>
<li>scala中没有public关键字，默认所有的访问权限都是公共的。</li>
<li>scala中没有void关键字，采用特殊的对象模拟：Unit</li>
<li>scala中声明方法采用关键字def</li>
<li>scala中参数列表的声明方式是变量名在前，类型在后<ul>
<li>java：String 参数名</li>
<li>Scala：参数名：类型</li>
</ul>
</li>
<li>scala中方法的声明和方法体是通过等号连接；方法的返回值类型放置在方法声明的后面使用冒号连接</li>
<li>不需要分号结尾，编译器自动添加</li>
<li>java变量使用之前必须初始化，但可以声明变量不用初始化，而scala声明变量必须显示的初始化变量。</li>
<li>增加了<font color=red size=3><strong>val和var</strong></font>关键字，可以对变量进行是否能够进行修改进行限定</li>
<li>Scala没有基本数据类型，数据类型都是对象</li>
<li><font color=red size=3><strong>Scala中没有++、–操作符，需要通过+=、-=来实现</strong></font></li>
<li>Scala中任意表达式都是有返回值的</li>
<li>Scala中没有三元运算符</li>
<li>scala中在任意语法中都可以声明其他语法，比如方法中可以声明方法，类里面可以声明类，包里面可以有包</li>
</ol>
<h1 id="Scala概述"><a href="#Scala概述" class="headerlink" title="Scala概述"></a>Scala概述</h1><p><img src="1%E3%80%81Scala%E6%A6%82%E8%BF%B0.png" alt="Scala概述"></p>
<h2 id="Scala与java、jvm关系图"><a href="#Scala与java、jvm关系图" class="headerlink" title="Scala与java、jvm关系图"></a>Scala与java、jvm关系图</h2><p><img src="2%E3%80%81Scala%E4%B8%8Ejava%E3%80%81jvm%E5%85%B3%E7%B3%BB%E5%9B%BE.png" alt="Scala与java、jvm关系图"></p>
<h2 id="Scala特点"><a href="#Scala特点" class="headerlink" title="Scala特点"></a>Scala特点</h2><ol>
<li>Scala是一门以java虚拟机（JVM）为目标运行环境并将面向对象和函数式<ul>
<li>编程的最佳特性结合在一起的静态类型编程语言【完全面向对象】。</li>
</ul>
</li>
<li>Scala 是一门多范式 (multi-paradigm) 的编程语言，Scala支持面向对象和函数式编程</li>
<li>Scala源代码(.scala)会被编译成Java字节码(.class)，然后运行于JVM之上，并可以调用现有的Java类库，实现两种语言的无缝对接。</li>
<li>Scala 单作为一门语言来看， 非常的简洁高效</li>
</ol>
<h2 id="Scala开发环境"><a href="#Scala开发环境" class="headerlink" title="Scala开发环境"></a>Scala开发环境</h2><ol>
<li>退出scala解释器【REPL】：  :q</li>
<li>执行程序：scala Hello.scala  这个是不产生文件，直接解析到内存中执行程序，运行结果慢</li>
<li>一般是先scalac编译后scala执行</li>
</ol>
<h3 id="演示代码"><a href="#演示代码" class="headerlink" title="演示代码"></a>演示代码</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//说明</span></span><br><span class="line"><span class="comment">//1、object表示一个伴生对象【即有$的字节码文件，伴生对象中的内容可以通过类名访问】，这里可以简单理解为一个对象</span></span><br><span class="line"><span class="comment">//2、HelloScala就是对象名字，底层真正对应的类名是HelloScala$,</span></span><br><span class="line"><span class="comment">//对象是HelloScala$类型的一个静态对象MODULE$</span></span><br><span class="line"><span class="comment">//3、当我们编写一个object HelloScala底层会生成两个.class文件，分别是HelloScala和HelloScala$</span></span><br><span class="line"><span class="comment">//4、scala在运行时的流程如下：</span></span><br><span class="line"><span class="comment">//（1）先从HelloScala的main开始执行</span></span><br><span class="line"><span class="comment">//public static void main(String[] paramArrayOfString)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    HelloScala$.MODULE$.main(paramArrayOfString);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//(2)然后调用HelloScala$类的方法 HelloScala$.MODULE$.main</span></span><br><span class="line"><span class="comment">//(3)即执行了下面的代码</span></span><br><span class="line"><span class="comment">//public void main(String[] args)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    Predef..MODULE$.println(&quot;Hello,Scala!~~&quot;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloScala</span></span>&#123;</span><br><span class="line"><span class="comment">// 说明</span></span><br><span class="line"><span class="comment">//1、def表示一个方法，这是一个关键字</span></span><br><span class="line"><span class="comment">//2、main表示方法名字，表示程序入口</span></span><br><span class="line"><span class="comment">//3、args: Array[String]表示形参，scala的特点是参数名在前，类型在后</span></span><br><span class="line"><span class="comment">//4、Array[String]表示类型数组</span></span><br><span class="line"><span class="comment">//5、: Unit= 表示该函数的返回值为空(void)</span></span><br><span class="line"><span class="comment">//6、println(&quot;Hello,Scala!~~&quot;)输出一句话</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="string">&quot;Hello,Scala!~~&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Scala语言输出的三种方式"><a href="#Scala语言输出的三种方式" class="headerlink" title="Scala语言输出的三种方式"></a>Scala语言输出的三种方式</h3><ol>
<li>字符串通过+号连接（类似 java）。</li>
<li>printf 用法 （类似 C 语言）字符串通过<code>%</code>传值。</li>
<li>字符串通过<code>$</code>引用(类似 PHP）。<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestPrint</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">            <span class="comment">//使用+</span></span><br><span class="line">            <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;tom&quot;</span></span><br><span class="line">            <span class="keyword">var</span> sal : <span class="type">Double</span> = <span class="number">1.2</span></span><br><span class="line">            println(<span class="string">&quot;hello&quot;</span> + sal + name )</span><br><span class="line">            <span class="comment">//使用格式化的方式 printf</span></span><br><span class="line">            printf(<span class="string">&quot;name=%s sal=%f\n&quot;</span>, name, sal)</span><br><span class="line">            <span class="comment">//使用$引用的方式，输出变量，类似 php</span></span><br><span class="line">            println(<span class="string">s&quot;第三种方式 name=<span class="subst">$name</span> sal = <span class="subst">$&#123;sal + 1&#125;</span>&quot;</span>)</span><br><span class="line">            println(<span class="string">f&quot;可以格式化：name=<span class="subst">$name</span> sal = <span class="subst">$sal</span>%.2f \n&quot;</span>)</span><br><span class="line">            println(<span class="string">raw&quot;原始数据：name=<span class="subst">$name</span> sal = <span class="subst">$sal</span>%.2f \n&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果</span></span><br><span class="line">hello1<span class="number">.2</span>tom</span><br><span class="line">name=tom sal= <span class="number">1.200000</span></span><br><span class="line">第三种方式：name=tom sal = <span class="number">2.2</span></span><br><span class="line">可以格式化：name= tom  sal = <span class="number">1.20</span> </span><br><span class="line"></span><br><span class="line">原始数据：name=tom sal = <span class="number">1.2</span>%<span class="number">.2</span>f \n</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="从控制台输入内容"><a href="#从控制台输入内容" class="headerlink" title="从控制台输入内容"></a>从控制台输入内容</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.io.<span class="type">StdIn</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> name = <span class="type">StdIn</span>.readLine(<span class="string">&quot;Your name: &quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;Your age: &quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    printf(<span class="string">&quot;Hello,%s! Next year,your will be %d.\n&quot;</span>,name,age+<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="idea开发Scala"><a href="#idea开发Scala" class="headerlink" title="idea开发Scala"></a>idea开发Scala</h3><ul>
<li>需要安装Scala插件：参考地址，<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43147136/article/details/83817703">https://blog.csdn.net/qq_43147136/article/details/83817703</a><br>采用本地安装插件</li>
</ul>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><h2 id="声明变量基本语法"><a href="#声明变量基本语法" class="headerlink" title="声明变量基本语法"></a>声明变量基本语法</h2><ol>
<li><p><font color=red size=3><strong>var</strong></font> | <font color=red size=3><strong>val</strong></font> 变量名[: 变量类型] = 变量值</p>
</li>
<li><p><font color=black size=3><strong>var【variable】关键字是可以修改值，val【value】关键字是不可修改值，val修饰的对象属性在编译后，等同于加上final</strong></font></p>
</li>
<li><p><font color=black size=3><strong>这里不可修改的是内存地址，如果对一个类使用val关键字，而里面的成员变量使用var，那么成员变量可以修改值</strong></font></p>
</li>
<li><p>声明变量时，类型可以省略（就是叫 类型推断）</p>
</li>
<li><p>类型确定后，就不能修改，说明Scala 是强数据类型语言</p>
</li>
</ol>
<p>变量声明</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;caixianquan&quot;</span></span><br><span class="line"><span class="keyword">val</span> age = <span class="number">20</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;caixianquan&quot;</span></span><br><span class="line">    <span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">24</span></span><br><span class="line">    <span class="comment">//Scala声明变量必须显示的初始化</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">val</span> dog = <span class="keyword">new</span> <span class="type">Dog</span>();</span><br><span class="line">    dog.name = <span class="string">&quot;wangcai&quot;</span></span><br><span class="line">    println(dog.name)</span><br><span class="line">    <span class="comment">//dog = new Dog() 报错</span></span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="scala-数据类型体系一览图"><a href="#scala-数据类型体系一览图" class="headerlink" title="scala 数据类型体系一览图"></a>scala 数据类型体系一览图</h3><p><img src="3%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB.png" alt="数据类型体系"><br><img src="4%E3%80%81%E6%A0%B9%E7%B1%BB%E5%9E%8BAny.png" alt="根类型Any"></p>
<ol>
<li>在scala中有一个根类型Any，是所有类的父类</li>
<li>scala中一切皆为对象，分为两类：Any（值类型），AnRef（引用类型），他们都是Any子类</li>
<li>Null类型是scala的特别类型，它只有一个值null,他是bottom class，是所有AnyRef类型的子类</li>
<li>Nothing类型也是bottom class，他是所有类的了类，在开发中通常可以将Nothing类型的值返回给任意变量或者函数，这里抛出异常使用很多、<br><img src="5%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png" alt="数据类型"><br><img src="6%E3%80%81Unit%E3%80%81NUll%E4%BB%A5%E5%8F%8ANothing%E7%B1%BB%E5%9E%8B.png" alt="Unit、NUll以及Nothing类型"></li>
</ol>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>Byte和Short类型再进行算术运算时会转换为Int类型，而Char、Float、Double、Int类型进行运算时会提升为最大数据类型</li>
<li>把”12.5”转成Int类型，因为12.5是字符串，转成Int类型会无法判断小数点，如果转成Double类型，那么会将小数点区分开而可以运行</li>
</ol>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><div class="note info flat"><p>Scala中没有++、–操作符，需要通过+=、-=来实现</p>
</div>

<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p><img src="7%E3%80%81%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6.png" alt="位运算符"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&amp;: 两个位都是<span class="number">1</span>，结果才是<span class="number">1</span>，否则为<span class="number">0</span></span><br><span class="line">|: 两个位只要有一个为<span class="number">1</span>，结果就为<span class="number">1</span>，否则为<span class="number">0</span></span><br><span class="line">^: 两个位相同为<span class="number">0</span>，不同则为<span class="number">1</span></span><br><span class="line">~: 按位取反</span><br><span class="line">&lt;&lt;: 将运算符左边的对象向左移动运算符右边指定的位数（在低位补<span class="number">0</span>）</span><br><span class="line">&gt;&gt;: <span class="string">&quot;有符号&quot;</span>右移运算 符，将运算符左边的对象向右移动运算符右边指定的位数。使用符号扩展机制，也就是说，如果值为正，则在高位补<span class="number">0</span>，如果值为负，则在高位补<span class="number">1.</span></span><br><span class="line">&gt;&gt;&gt;: <span class="string">&quot;无符号&quot;</span>右移运算 符，将运算符左边的对象向右移动运算符右边指定的位数。采用<span class="number">0</span>扩展机制，也就是说，无论值的正负，都在高位补<span class="number">0.</span></span><br></pre></td></tr></table></figure>

<h1 id="程序流程控制"><a href="#程序流程控制" class="headerlink" title="程序流程控制"></a>程序流程控制</h1><h2 id="分支控制-if-else"><a href="#分支控制-if-else" class="headerlink" title="分支控制 if-else"></a>分支控制 if-else</h2><p>Scala 中<font color=red size=3><strong>任意表达式都是有返回值</strong></font>的，也就意味着 if else 表达式其实是有返回结果的，<br>具体返回 <font color=red size=3><strong>结果的值取决于满足条件的代码体的最后一行内容</strong></font></p>
<p>可以通过右大括号后.var给出返回类型，如下。这是Scala插件自动添加的类型，不根据if条件来看是否<br>执行那个语句。如果true：string，false：string，那么返回类型为Any，<br>如果true和false里面为空那么是Unit类型。一般返回类型可以不写，插件自动判断</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Exercise03</span> </span>&#123;   </span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">var</span> sumVal = <span class="number">9</span></span><br><span class="line">    <span class="keyword">val</span> result = <span class="keyword">if</span>(sumVal &gt; <span class="number">20</span>)</span><br><span class="line">      println(<span class="string">&quot;结果大于20&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;result: &quot;</span> + result) <span class="comment">//返回的是() 即 Unit</span></span><br><span class="line"> </span><br><span class="line">	<span class="keyword">val</span> unit: <span class="type">Any</span> = <span class="keyword">if</span>(sumVal &gt; <span class="number">20</span>) &#123;</span><br><span class="line">	      <span class="string">&quot;abac&quot;</span></span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="for循环控制"><a href="#for循环控制" class="headerlink" title="for循环控制"></a>for循环控制</h2><h3 id="“to”的使用"><a href="#“to”的使用" class="headerlink" title="“to”的使用"></a>“to”的使用</h3><ul>
<li>说明</li>
</ul>
<ol>
<li>i 表示循环的变量， &lt;- 规定好 to 规定</li>
<li>i 将会从 1-3 循环， 前后闭合，即[1,3]<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">    print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="“until”的使用"><a href="#“until”的使用" class="headerlink" title="“until”的使用"></a>“until”的使用</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> until <span class="number">3</span>) &#123;</span><br><span class="line">    print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br></pre></td></tr></table></figure>
<p>说明:</p>
<ol>
<li>这种方式和前面的区别在于 i 是从 1 到 3-1</li>
<li>前闭合后开的范围,和 java 的 arr.length() 类似<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; arr.lenght; i++)&#123;&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="循环守卫"><a href="#循环守卫" class="headerlink" title="循环守卫"></a>循环守卫</h3><p>循环守卫，即循环保护式（也称条件判断式，守卫）。<br>保护式为 true 则进入循环体内部，为 false则跳过，类似于 continue</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span> <span class="keyword">if</span> i != <span class="number">2</span>) &#123;</span><br><span class="line">    print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line"> </span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i != <span class="number">2</span>) &#123;</span><br><span class="line">        println(i+<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="步长控制"><a href="#步长控制" class="headerlink" title="步长控制"></a>步长控制</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种：range（start，end，step）</span></span><br><span class="line"><span class="keyword">for</span> (i &lt;- <span class="type">Range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>)) &#123;</span><br><span class="line">    println(<span class="string">&quot;i=&quot;</span> + i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 控制步长的第二种方式-for 循环守卫</span></span><br><span class="line">println(<span class="string">&quot;**************************&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span> <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">    println(<span class="string">&quot;i=&quot;</span> + i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="引入变量"><a href="#引入变量" class="headerlink" title="引入变量"></a>引入变量</h3><ul>
<li>for循环中可以使用一行代码声明变量，也可以使用多行来声明变量，但是需要将小括号变成大括号<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">for</span>&#123;i &lt;- <span class="type">Range</span>(<span class="number">1</span>,<span class="number">18</span>,<span class="number">2</span>)</span><br><span class="line">      j = (<span class="number">18</span> - i ) / <span class="number">2</span>&#125;&#123;</span><br><span class="line">    println(<span class="string">&quot; &quot;</span>*j + <span class="string">&quot;*&quot;</span>*i + <span class="string">&quot; &quot;</span>* j)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>表达式如果有多行代码，那么可以采用大括号声明</li>
</ul>
<h3 id="循环返回值"><a href="#循环返回值" class="headerlink" title="循环返回值"></a>循环返回值</h3><ol>
<li>默认情况下，for循环的返回值为(),unit类型<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//无论for循环最后一条语句是什么，都默认返回() ,unit</span></span><br><span class="line">  <span class="keyword">val</span> unit1: <span class="type">Unit</span> = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">    println(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">val</span> unit: <span class="type">Unit</span> = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">    <span class="string">&quot;abc&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>使用yield关键字修改默认的返回值类型</li>
<li>将遍历过程中处理的结果返回到一个新 Vector 集合中，使用 yield 关键字<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 对 1 to 10 进行遍历</span></span><br><span class="line"><span class="comment">* 【yield i】将每次循环得到 i 放入到集合 Vector 中，并返回给 res</span></span><br><span class="line"><span class="comment">* 【i】这里是一个代码块，这就意味我们可以对【i】进行处理</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">val</span> res = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i * <span class="number">2</span></span><br><span class="line">println(res)</span><br></pre></td></tr></table></figure>
<img src="8%E3%80%81yield%E5%85%B3%E9%94%AE%E5%AD%97.png" alt="yield关键字"></li>
</ol>
<h2 id="while-循环控制"><a href="#while-循环控制" class="headerlink" title="while 循环控制"></a>while 循环控制</h2><p>因为 while 中没有返回值,所以当要用该语句来计算并返回结果时,就不可避免的使用变量 ，而变量需要声明在 while 循环的外部，那么就等同于循环的内部对外部的变量造成了影响，所以不推荐使用，而是 推荐使用 for  循环。</p>
<h3 id="break-和breakable"><a href="#break-和breakable" class="headerlink" title="break()和breakable()"></a>break()和breakable()</h3><ul>
<li>中断循环，java中采用break语法实现，scala中没有break关键字，但是可以采用对象的方式进行中断<br><img src="9%E3%80%81break%E5%AE%9E%E7%8E%B0.png" alt="break实现"></li>
<li>由于Scala使用抛出异常来中断for循环，那么就无法继续执行<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> scala.util.control.<span class="type">Breaks</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="type">Breaks</span>.breakable&#123;</span><br><span class="line">      <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">5</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> ( i == <span class="number">3</span>)</span><br><span class="line">          <span class="type">Breaks</span>.<span class="keyword">break</span>()</span><br><span class="line">        println(<span class="string">s&quot;<span class="subst">$&#123;i&#125;</span>&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;循环结束&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.util.control.<span class="type">Breaks</span>._</span><br><span class="line"><span class="comment">// breakable 对 break()抛出的异常做了处理,代码就继续执行</span></span><br><span class="line">breakable &#123;</span><br><span class="line">    <span class="keyword">while</span> (n &lt;= <span class="number">20</span>) &#123;</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">        println(<span class="string">&quot;n=&quot;</span> + n)</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">18</span>) &#123;</span><br><span class="line">            <span class="comment">//中断 while</span></span><br><span class="line">            <span class="comment">//说明</span></span><br><span class="line">            <span class="comment">//1. 在 scala 中使用函数式的 break 函数中断循环</span></span><br><span class="line">            <span class="comment">//2. def break(): Nothing = &#123; throw breakException &#125;</span></span><br><span class="line">            <span class="keyword">break</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="函数式编程基础"><a href="#函数式编程基础" class="headerlink" title="函数式编程基础"></a>函数式编程基础</h1><ol>
<li>在 scala 中，方法和函数几乎可以等同(比如他们的定义、使用、运行机制都一样的)，只是函数 的使用方式更加的灵活多样。</li>
<li>函数式编程是从编程方式(范式)的角度来看，函数式编程把函数当做一等公民，<font color=red size=3><strong>充分利用函数、 支持的函数的多种使用</strong></font>方式，如同在面向对象编程中将对象作为基本单位<br><img src="10%E3%80%81%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.png" alt="函数式编程"></li>
<li>“函数式编程”是一种”编程范式”（programming paradigm）。【面向对象：解决问题的时候是将<br>问题拆解成一个一个小问题（形成了对象），分别解决。对象关系：继承，实现，重写，多态】</li>
<li>它属于”结构化编程”的一种，主要思想是把运算过程尽量写成一系列嵌套的函数调用。</li>
<li>函数式编程中，将函数也当做数据类型，因此可以接受函数当作输入（参数）和输出（返回值）。<br>（增强了编程的粒度）</li>
<li>java中的方法和scala中函数都可以进行功能的封装，但是方法必须和类型绑定，即从属于哪个类，但函数不需要</li>
<li>函数式编程中，最重要的就是函数。关心的是问题的解决方案（封装功能），重点在于（功能）函数的入参，出参</li>
</ol>
<h2 id="声明函数以及调用"><a href="#声明函数以及调用" class="headerlink" title="声明函数以及调用"></a>声明函数以及调用</h2><div class="note primary flat"><p><font color=red>def</font> 函数名 <font color=red>([</font>参数名: 参数类型<font color=red>]</font>, …<font color=red>)[</font><font color=blue>[</font>: 返回值类型<font color=blue>]</font> =<font color=red>] {</font><br>    语句… //完成某个功能<br>return 返回值</p>
</div>

<ol>
<li>[参数名: 参数类型], …：表示函数的输入(就是参数列表), 可以没有。 如果有，多个参数使用逗号间隔</li>
<li>函数可以有返回值,也可以没有<ul>
<li>返回值形式1:  // def 函数名(参数列表) : 数据类型 = {函数体}  // 返回值确定,清晰   </li>
<li>返回值形式2:  // def 函数名(参数列表) = {函数体}  // 有返回值, 类型是推断出来的，<font color=red><strong>不能有return关键字</strong></font></li>
<li>返回值形式3:  // def 函数名(参数列表) {函数体}  // 无返回值 Unit</li>
<li><font color=blue>如果没有return ,默认以执行到最后一行的结果作为返回值</font></li>
</ul>
</li>
<li>函数没有重载的概念，如果在同一个作用域中，函数不能同名</li>
<li>如果函数体中只有一行代码，大括号可以省略<ul>
<li>def test() = “caixianquan”</li>
</ul>
</li>
<li>如果函数声明中没有参数列表，小括号可以省略<ul>
<li>def test = “caixianquan”</li>
</ul>
</li>
<li>如果函数声明小括号省略，那么访问函数时<font color=red><strong>不能增加小括号</strong></font></li>
</ol>
<h2 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(name: <span class="type">String</span>*) : <span class="type">Unit</span> = &#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//调用函数时，可传多个参数，也可以不传参数</span></span><br><span class="line">   test(<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;list&quot;</span>,<span class="string">&quot;wangwu&quot;</span>)</span><br><span class="line">   test()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>传入值的个数不同封装类型不同</code><br><img src="11%E3%80%81%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.png" alt="可变参数"></p>
<h2 id="默认参数–带名参数"><a href="#默认参数–带名参数" class="headerlink" title="默认参数–带名参数"></a>默认参数–带名参数</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//默认参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(name: <span class="type">String</span>, age: <span class="type">Int</span> = <span class="number">20</span>) : <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;name: &quot;</span> + name + <span class="string">&quot;, &quot;</span> + <span class="string">&quot;age: &quot;</span> + age)</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="string">&quot;caixianquan&quot;</span>)</span><br><span class="line">    test(<span class="string">&quot;caixianquan&quot;</span>,<span class="number">30</span>)</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">    <span class="comment">//带名参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(name2: <span class="type">String</span> = <span class="string">&quot;lisi&quot;</span>, name1: <span class="type">String</span>) : <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;name2: &quot;</span> + name2 + <span class="string">&quot;, &quot;</span> + <span class="string">&quot;name1: &quot;</span> + name1)</span><br><span class="line">  &#125;</span><br><span class="line">  test1(name1 = <span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="12%E3%80%81%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0.png" alt="默认参数"></p>
<h2 id="函数式编程高级用法"><a href="#函数式编程高级用法" class="headerlink" title="函数式编程高级用法"></a>函数式编程高级用法</h2><ol>
<li>函数在scala可以做任何的事情</li>
<li>函数可以赋值给变量</li>
<li><font color=red size=3><strong>函数可以作为函数的参数</strong></font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 无参函数作为参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f4</span></span>(f : () =&gt; (<span class="type">Int</span>)) : <span class="type">Int</span> = &#123;</span><br><span class="line">      f() + <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f5</span></span>() : <span class="type">Int</span> = &#123;</span><br><span class="line">      <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(f4(f5))</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//有参函数作为参数</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>(age: <span class="type">Int</span> , f : (<span class="type">Int</span>) =&gt; (<span class="type">Int</span>)) =&#123;</span><br><span class="line">      f(age) + <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(i : <span class="type">Int</span>) : <span class="type">Int</span> =&#123;</span><br><span class="line">      i + <span class="number">6</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(f3(<span class="number">4</span>, f2))</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//使用匿名函数改善代码</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(f : () =&gt; <span class="type">Unit</span>) =&#123;</span><br><span class="line">      f()</span><br><span class="line">    &#125;</span><br><span class="line">    f1(()=&gt;&#123;println(<span class="string">&quot;xxxxxxxxx&quot;</span>)&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>函数可以作为函数的返回值<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>() = &#123;</span><br><span class="line">      println(<span class="string">&quot;function&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f0</span></span>() = &#123;</span><br><span class="line">      <span class="comment">//如果直接写上函数，那么将会执行这个函数，就无法返回这个函数而返回这个函数执行后的结果</span></span><br><span class="line">      <span class="comment">//f</span></span><br><span class="line">      <span class="comment">//想要返回这个函数，需要增加特殊符号：下划线</span></span><br><span class="line">      f _</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//这里执行后的结果是返回f()这个函数，那么可以再加上一个括号执行f()函数</span></span><br><span class="line">    <span class="comment">//f0()</span></span><br><span class="line">    f0()()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(i : <span class="type">Int</span>) = &#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(j : <span class="type">Int</span>) = &#123;</span><br><span class="line">        i * j</span><br><span class="line">      &#125;</span><br><span class="line">      f2 _</span><br><span class="line">    &#125;</span><br><span class="line">    println(f1(<span class="number">2</span>)(<span class="number">3</span>))  <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>函数柯里化<ul>
<li>对上述的函数嵌套进行简化，即为函数柯里化<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>(i: <span class="type">Int</span>)(j: <span class="type">Int</span>) : <span class="type">Int</span> = &#123;</span><br><span class="line">      i * j</span><br><span class="line">    &#125;</span><br><span class="line">    println(f3(<span class="number">2</span>)(<span class="number">3</span>)) <span class="comment">//6</span></span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>一个函数在实现逻辑时，将外部的变量引入到函数的内容，改变了这个变量的生命周期，称之为闭包，柯里化使用了闭包概念<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(i : <span class="type">Int</span>) = &#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(j : <span class="type">Int</span>) = &#123;</span><br><span class="line">        i * j</span><br><span class="line">      &#125;</span><br><span class="line">      f2 _</span><br><span class="line">    &#125;</span><br><span class="line">    println(f1(<span class="number">2</span>)(<span class="number">3</span>))  <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这里由于f2函数使用f1的变量，所以这个变量不能释放掉，从而改变了这个变量的生命周期，即为闭包</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="面向对象编程（基础部分）"><a href="#面向对象编程（基础部分）" class="headerlink" title="面向对象编程（基础部分）"></a>面向对象编程（基础部分）</h1><h2 id="简单入门"><a href="#简单入门" class="headerlink" title="简单入门"></a>简单入门</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">      <span class="comment">//声明属性</span></span><br><span class="line">      <span class="comment">//下划线可以理解为默认初始化</span></span><br><span class="line">      <span class="keyword">var</span> username : <span class="type">String</span> = _</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">var</span> age : <span class="type">Int</span> = _</span><br><span class="line"> </span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">login</span></span>() : <span class="type">Boolean</span> = &#123;</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//创建类的对象</span></span><br><span class="line">    <span class="keyword">val</span> user: <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>()</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//调用对象的属性或方法</span></span><br><span class="line">    user.username = <span class="string">&quot;caixianquan&quot;</span></span><br><span class="line">    println(user.username)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.caixianquan.scalaToLearn.test.test1.<span class="type">Emp1</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> emp = <span class="keyword">new</span> <span class="type">Emp</span>()</span><br><span class="line">    <span class="keyword">val</span> emp1 = <span class="keyword">new</span> <span class="type">Emp1</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="package"><a href="#package" class="headerlink" title="package"></a>package</h2><ol>
<li>在同一个源码文件可以多次声明package，声明的类在最后声明的包中<br>如下例子是折叠来写，找到这个Emp类是通过com.caixianquan.scalaToLearn.test包下的<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"><span class="keyword">package</span> test</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    println(<span class="string">&quot;zzzz&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Emp</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="13%E3%80%81package.png" alt="package"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.caixianquan.scalaToLearn.test.<span class="type">Hello123</span>.<span class="type">Emp</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> emp = <span class="keyword">new</span> <span class="type">Emp</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>package后可以加花括号，表示如果在花括号里面声明的类就在这个package下，如果在外面声明的类那么就在当前包下<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"><span class="keyword">package</span> test&#123;</span><br><span class="line">  <span class="keyword">package</span> test1&#123;</span><br><span class="line">    <span class="comment">//在test.test1包下声明的类</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Emp1</span></span>&#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    println(<span class="string">&quot;zzzz&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在ScalaToLearn下声明的类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<font color=red size=3>注意要使用包对象，必须得使用包的全称路径，import只是用来导入类</font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scala</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(com.caixianquan.scalaToLearn.test.test.test)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>scala中可以声明父包和子包，父包中的类，子类可以直接访问，不需要引入，即作用域的概念<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"><span class="keyword">package</span> test&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Emp1</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">package</span> test1&#123;</span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//在父包中声明的类直接在子包中使用而不需要导入</span></span><br><span class="line">        <span class="keyword">val</span> emp1 = <span class="keyword">new</span> <span class="type">Emp1</span>;</span><br><span class="line">        println(emp1)</span><br><span class="line">        println(<span class="string">&quot;zzzz&quot;</span>)</span><br><span class="line"> </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>scala中package下只能声明类，但是无法声明变量和函数（方法），scala为了弥补包的不足，使用了包对象的概念，可以声明属性和方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"><span class="keyword">package</span> test&#123;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Emp1</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> test = <span class="string">&quot;123&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">package</span> test1&#123;</span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="import"><a href="#import" class="headerlink" title="import"></a>import</h2><ol>
<li>用于导入类</li>
<li>可以在任意的地方使用</li>
<li>可以导入一个包中的所有类，比如java.util._</li>
<li>导入相同包中的多个类，可以采用大括号进行包含处理: <code>import java.util.&#123;ArrayList, List, Date&#125;</code></li>
<li>在包名前加上<code>_root_</code>表示全路径，如：<code>import _root_.java.util._</code>，这样子就会使用java.util下的包，例子说明：<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"><span class="keyword">package</span> java&#123;</span><br><span class="line">  <span class="keyword">package</span> util&#123;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="comment">//如果不加上_root_，那么使用的是当前自定义的HashMap类</span></span><br><span class="line">        <span class="keyword">val</span> root_hashMap = <span class="keyword">new</span> _root_.java.util.<span class="type">HashMap</span>[<span class="type">Int</span>, <span class="type">Int</span>]()</span><br><span class="line">        <span class="keyword">val</span> hashMap = <span class="keyword">new</span> <span class="type">HashMap</span></span><br><span class="line">        println(root_hashMap)</span><br><span class="line">        println(hashMap)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在导入类的时候给类起别名<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.util.&#123;<span class="type">HashMap</span>=&gt;<span class="type">JavaHashMap</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">JavaHashMap</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="field属性"><a href="#field属性" class="headerlink" title="field属性"></a>field属性</h2><ol>
<li>scala中给类声明属性，默认为私有的，但是底层提供了公共的setter和getter方法，在使用类时直接调用属性即可为属性赋值</li>
<li>如果给属性增加private修饰符，那么属性无法在外部访问，因为底层生成的setter和getter方法都是私有的</li>
<li>如果声明的属性使用val，那么属性是私有的，并且底层使用final修饰，底层只提供getter方法，而没有setter方法</li>
<li>为了和java bean规范统一，scala提供了注解，生成java中对应的set、get方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> scala.beans.<span class="type">BeanProperty</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> hello123 = <span class="keyword">new</span> <span class="type">Hello123</span></span><br><span class="line">    hello123.setAddress(<span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">    println(hello123.getAddress)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="meta">@BeanProperty</span> <span class="keyword">var</span> address: <span class="type">String</span> = _</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h2><ol>
<li>所谓的权限其实是方法的提供者和方法的调用者之间的关系<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.java;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @ClassName Access</span></span><br><span class="line"><span class="comment"> * @Description TODO</span></span><br><span class="line"><span class="comment"> * @Author Administrator</span></span><br><span class="line"><span class="comment"> * @Data 2019/12/8 20:52</span></span><br><span class="line"><span class="comment"> * @Version 1.0</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Java10_Access</span> </span>&#123;</span><br><span class="line">    public static void main(<span class="type">String</span> args [])&#123;</span><br><span class="line">        <span class="comment">//这里的含义是Java10_Access这个类创建了A类的对象，然后调用了A类对象的clone方法,即clone是从属于A这个类</span></span><br><span class="line">              <span class="comment">//而Java10_Access和A中的clone是没有任何关系</span></span><br><span class="line">        <span class="comment">//是否能够调用有几个条件：同类，同包，或者是父子关系</span></span><br><span class="line">        <span class="comment">//方法的提供者：java.lang.Object</span></span><br><span class="line">        <span class="comment">//方法的调用者：com.caixianquan.java.Access</span></span><br><span class="line">        <span class="type">A</span> a = <span class="keyword">new</span> <span class="type">A</span>();</span><br><span class="line">        <span class="type">A</span>.clone();  <span class="comment">//报错</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="14%E3%80%81%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90.png" alt="访问权限"><br>而A类重写了Object里的clone方法后，如下<br>那么方法的提供者就为com.caixianquan.java.A<br>方法的调用者为：com.caixianquan.java.Access，这样子是在同包里面，调用clone就不会报错<br><img src="15%E3%80%81%E8%B0%83%E7%94%A8%E5%85%B3%E7%B3%BB.png" alt="调用关系"></li>
<li>伴生对象可以访问伴生类的私有属性（因为底层伴生对象和伴生类是在同一个类中）</li>
<li>四种访问权限：public,protected,default(package),private</li>
<li>public：默认的访问权限，没有关键字</li>
<li>protected，只能子类访问，同包访问不了</li>
<li>private，私有访问权限，只能当前类访问</li>
<li>default，包访问权限，特殊的语法规则，private[包名]，指定的包可以访问<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">package</span> p1&#123;</span><br><span class="line">  <span class="keyword">package</span> p2&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">UserP2</span></span>&#123;</span><br><span class="line">      <span class="keyword">var</span> username = <span class="string">&quot;caixianquan&quot;</span></span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">var</span> password = <span class="string">&quot;123&quot;</span></span><br><span class="line">      <span class="keyword">protected</span> <span class="keyword">var</span> email = <span class="string">&quot;@qq.com&quot;</span></span><br><span class="line">      <span class="comment">//可以在p2包下访问</span></span><br><span class="line">      <span class="keyword">private</span>[p2] <span class="keyword">var</span> address = <span class="string">&quot;xxxx&quot;</span></span><br><span class="line">       </span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">        println(username)</span><br><span class="line">        println(password)</span><br><span class="line">        println(email)</span><br><span class="line">        println(address)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">     </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">UserP3</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">        <span class="keyword">val</span> user1 = <span class="keyword">new</span> <span class="type">UserP2</span>;</span><br><span class="line">        <span class="comment">//可以访问address和username</span></span><br><span class="line">        println(user1.address)</span><br><span class="line">        println(user1.username)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  <span class="keyword">package</span> p3&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">import</span> com.caixianquan.scalaToLearn.p1.p2.<span class="type">UserP2</span></span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">EmpP3</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">        <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">UserP2</span></span><br><span class="line">        <span class="comment">//只能访问username</span></span><br><span class="line">        println(user.username)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">UserP2Child</span> <span class="keyword">extends</span> <span class="title">UserP2</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">test4</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">        println(email)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><ol>
<li>伴生对象和伴生类，伴生类和伴生对象的名字相同，关键字为class和object，成员属性和方法写在class中，静态属性和方法写在伴生对象object中</li>
<li>在伴生对象中可以创建伴生类对象，使用系统提供的apply方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scala</span><br><span class="line"> </span><br><span class="line"><span class="comment">//伴生类（成员）</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> sname = <span class="string">&quot;caixianquan&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//伴生对象（静态）</span></span><br><span class="line"><span class="comment">//伴生对象可以访问伴生类的私有属性</span></span><br><span class="line"><span class="comment">//创建伴生类对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>: <span class="type">Student</span> = <span class="keyword">new</span> <span class="type">Student</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.caixianquan.scala.<span class="type">Student</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//自动调用Student.apply方法</span></span><br><span class="line">    <span class="keyword">val</span> student = <span class="type">Student</span></span><br><span class="line">    println(student)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h2><ol>
<li>scala中的构造方法分为两类：主构造方法和辅助构造方法</li>
<li>scala构建对象可以通过辅助构造方法创建，但是必须调用主构造方法</li>
<li>scala是完全面向函数的语言，所以类也是函数，可以使用小括号作为函数的参数列表</li>
<li>类所代表的函数就是这个类的构造方法，默认情况下，scala也是给类提供无参构造方法，所以小括号可以省略<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello123</span>(<span class="params">s:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//类体&amp;构造方法体</span></span><br><span class="line">  println(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在类的后面声明的构造方法就是主构造方法</li>
<li>在主构造方法中声明的构造方法就是辅助构造方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.scalaToLearn</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> hello123 = <span class="keyword">new</span> <span class="type">Hello123</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello123</span>(<span class="params">s:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(s)</span><br><span class="line">  <span class="comment">//声明辅助构造方法，方法名为this,辅助构造方法必须调用主构造方法,在方法内显示调用</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>()&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="string">&quot;lisi&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>多次调用辅助构造方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> hello123 = <span class="keyword">new</span> <span class="type">Hello123</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello123</span>(<span class="params">s:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;主构造方法&quot;</span>)</span><br><span class="line">  println(s)</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>()&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="string">&quot;辅助构造方法1&quot;</span>, <span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(s:<span class="type">String</span>, ss:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(s)</span><br><span class="line">    println(<span class="string">&quot;辅助构造方法2&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info flat"><p>但这样子会报以下错误：<br>Error:(17, 5) called constructor’s definition must precede calling constructor’s definition<br>    this(“辅助构造方法1”, “xxx”)<br><font color=red size=3>这是因为构造方法调用其他的构造方法时必须声明在前，调用在后</font></p>
</div>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> hello123 = <span class="keyword">new</span> <span class="type">Hello123</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello123</span>(<span class="params">s:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;主构造方法&quot;</span>)</span><br><span class="line">  println(s)</span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(s:<span class="type">String</span>, ss:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(s)</span><br><span class="line">    println(<span class="string">&quot;辅助构造方法2&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>()&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="string">&quot;辅助构造方法1&quot;</span>, <span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="16%E3%80%81%E8%B0%83%E7%94%A8%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95.png" alt="调用构造方法"></li>
<li>父类有参数构造方法时<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>(<span class="string">&quot;caixianquan&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">s:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Person 主构造方法 : &quot;</span> + s)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果父类主构造方法有参数,那么必须显示的传递参数</span></span><br><span class="line"><span class="comment">//可以在继承父类的后面增加小括号，传递参数，等同于调用父类的构造方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">&quot;zhangsan&quot;</span>)</span>&#123;</span><br><span class="line">  println(<span class="string">&quot;User 主构造方法&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(s:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    println(<span class="string">&quot;User 辅助构造方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>类构造方法的参数的作用域默认为整个类的主体，但是如果想要参数作为属性来使用，可以采用特殊方式声明<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">    println(person.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">var name:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="父类的构造方法"><a href="#父类的构造方法" class="headerlink" title="父类的构造方法"></a>父类的构造方法</h3><ol>
<li>父类无参数构造方法时<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> user : <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>(<span class="string">&quot;caixianquan&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Person 主构造方法&quot;</span>)</span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;User 主构造方法&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(s:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    println(<span class="string">&quot;User 辅助构造方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="面向对象编程（中级部分）"><a href="#面向对象编程（中级部分）" class="headerlink" title="面向对象编程（中级部分）"></a>面向对象编程（中级部分）</h1><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ol>
<li>子类会继承父类的所有东西，private是指访问权限，子类也会继承，但是能不能访问是另一回事</li>
<li>一个类中有抽象方法说明这个类是抽象类，如果一个抽象类中有一个方法不一定是抽象方法</li>
<li>重写方法需要override修饰</li>
<li>多态中调用的是子类的方法</li>
<li>动态绑定机制：成员方法在执行的过程中，JVM将方法和当前调用对象实际内存进行绑定<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.caixianquan.java;</span><br><span class="line"> </span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Access</span> </span>&#123;</span><br><span class="line">    public static void main(<span class="type">String</span> args [])&#123;</span><br><span class="line"> </span><br><span class="line">        <span class="type">A</span> a = <span class="keyword">new</span> <span class="type">A</span>();</span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;当声明类型为A，构造类为A时：&quot;</span> + a.getResult());  <span class="comment">//结果为20，不含子类</span></span><br><span class="line"><span class="comment">//        A b = new B();</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;当声明类型为A，构造类为B时：&quot; + b.getResult());  //结果为50，多态调用的是子类的方法</span></span><br><span class="line">        <span class="comment">//注释掉子类B中的方法时</span></span><br><span class="line">        <span class="type">A</span> c = <span class="keyword">new</span> <span class="type">B</span>();</span><br><span class="line">        <span class="comment">//使用了动态绑定机制，当前调用对象的实际内存为B类，那么会检查B类中是否有getResult方法，由于B中注释掉了，</span></span><br><span class="line"><span class="comment">//        那么直接继承A中的getResult方法，也即执行了A中的getResult方法。而属性是没有动态绑定机制</span></span><br><span class="line">        <span class="comment">//那么属性是在哪声明就在哪里使用，所以用到的是A类中的i属性</span></span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;当声明类型为A，构造类为B且注释掉B中的方法时：&quot;</span> + c.getResult());   <span class="comment">//结果为20</span></span><br><span class="line">         </span><br><span class="line">        <span class="comment">//新问题：B继承了A中的i，自己声明了一个i，那么在B中就存在两个i【调试中可以看到B类中的信息】，B中的方法会使用哪个变量i</span></span><br><span class="line">        <span class="comment">//这是因为这里省略了一个关键字：this，在B中方法里，this代指当前对象被省略了，而super是指父类对象</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    public int i = <span class="number">10</span>;</span><br><span class="line">    public int getResult()&#123;</span><br><span class="line">        <span class="keyword">return</span> i + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    public int i = <span class="number">30</span>;</span><br><span class="line"><span class="comment">//    public int getResult()&#123;</span></span><br><span class="line"><span class="comment">//        return i + 20;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>只要是成员方法就一定会遵循动态绑定机制<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Access</span> </span>&#123;</span><br><span class="line">    public static void main(<span class="type">String</span> args [])&#123;</span><br><span class="line"> </span><br><span class="line">        <span class="type">A</span> c = <span class="keyword">new</span> <span class="type">B</span>();</span><br><span class="line">        <span class="comment">//这里的getI方法也是成员方法，一定遵循动态绑定机制，使用的还是实际内存对象B中的getI方法</span></span><br><span class="line">        <span class="type">System</span>.out.println(<span class="string">&quot;当声明类型为A，构造类为B且注释掉B中的方法时：&quot;</span> + c.getResult());   <span class="comment">//结果为40</span></span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    public int i = <span class="number">10</span>;</span><br><span class="line">    public int getResult()&#123;</span><br><span class="line">        <span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    public int getI()&#123;</span><br><span class="line">        <span class="keyword">return</span>  i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    public int i = <span class="number">30</span>;</span><br><span class="line"><span class="comment">//    public int getResult()&#123;</span></span><br><span class="line"><span class="comment">//        return i + 20;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    public int getI()&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在scala中，属性也是可以重写的，因为属性也是可以抽象的，因为Scala把这些抽象属性也是在底层由方法实现</li>
<li>抽象属性在编译为class文件时，不产生属性，但是产生抽象getter方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name : <span class="type">String</span> = _</span><br><span class="line">  <span class="comment">//属性可以抽象</span></span><br><span class="line">  <span class="keyword">var</span> sex : <span class="type">String</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="comment">//重写属性</span></span><br><span class="line">   <span class="keyword">var</span> sex: <span class="type">String</span> = _</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>属性可以被重写，需要override修饰，<font color=red size=3>但不能重写父类var声明的变量，即可以重写val声明的变量</font></li>
<li>不能重写var声明的变量原因是底层使用了java的动态绑定机制，var声明的变量是由方法实现，如果能够重写，那么父类的变量就访问不到了；而val声明的变量是因为底层是final修饰的，只有get方法，所以不会造成无法获取父类val声明的变量</li>
</ol>
<h2 id="特质Trait"><a href="#特质Trait" class="headerlink" title="特质Trait"></a>特质Trait</h2><ol>
<li>特质可以被继承，使用extends，多个trait使用with关键字</li>
<li>如果类同时存在父类和trait，依然采用继承方式，但是继承的是父类，连接【混入】特质使用with<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">    println(user)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTraitOther</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait1</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User1</span> <span class="keyword">extends</span> <span class="title">TestTrait</span> <span class="keyword">with</span> <span class="title">TestTraitOther</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//特质可以继承，使用extends,多个trait使用关键字with</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="keyword">with</span> <span class="title">TestTrait</span> <span class="keyword">with</span> <span class="title">TestTraitOther</span> <span class="keyword">with</span> <span class="title">TestTrait1</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>java中的接口无法直接构建对象，必须使用类，<font color=red>trait也无法构建对象</font></li>
<li>scala中的trait可以执行代码<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">    println(user)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;trait test...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>java中的接口可以声明方法，早期版本声明的方法都是抽象，新版本可以有默认实现，也可以声明属性，属性值无法修改</li>
<li><font color=red>scala中的trait可以声明方法及实现，也可以声明属性，，属性值可以修改，都可以在混入的类中调用</font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">    println(<span class="string">&quot;username: &quot;</span> + user.username)</span><br><span class="line">    user.username = <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">    println(<span class="string">&quot;username1: &quot;</span> + user.username)</span><br><span class="line">    user.test</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> username : <span class="type">String</span> = <span class="string">&quot;zhansan&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="15%E3%80%81trait.png" alt="trait"></li>
<li>特质中可以声明抽象方法</li>
<li>引入一个java接口的例子说明：接口只与实现类有关，跟父子类没有关系<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Access</span> </span>&#123;</span><br><span class="line">    public static void main(<span class="type">String</span> args [])&#123;</span><br><span class="line">        <span class="type">A</span> a = <span class="keyword">new</span> <span class="type">C</span>();</span><br><span class="line">        <span class="comment">//判断C类是否实现了接口A，如果长度为0说明没有实现任何接口</span></span><br><span class="line">        <span class="type">System</span>.out.println(<span class="type">C</span>.<span class="keyword">class</span>.getInterfaces().length);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">interface <span class="type">A</span>&#123;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="title">implements</span> <span class="title">A</span></span>&#123;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span></span>&#123;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="17%E3%80%81%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%9C%89%E5%85%B3.png" alt="接口与实现类有关"></li>
<li>上述例子可以判断如果一个类同时继承父类和trait，那么由于trait只和这个类有关，跟父类无关，程序会先执行父类，因为实现了trait会再执行trait，最后执行这个类<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;trait code...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Parent code...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="keyword">with</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;child code...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="18%E3%80%81trait%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F.png" alt="trait的执行顺序"></li>
<li>如果父类混入了相同的特质，那么特质的代码只会执行一遍【trait一旦被实现，就不会再次初始化】<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">User</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;trait code...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">TestTrait</span> </span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Parent code...&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="keyword">with</span> <span class="title">TestTrait</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;child code...&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="19%E3%80%81%E7%88%B6%E7%B1%BB%E6%B7%B7%E5%85%A5%E7%9B%B8%E5%90%8C%E7%9A%84%E7%89%B9%E8%B4%A8.png" alt="父类混入相同的特质"></li>
<li>特质可以继承其他的特质，重写父特质的方法</li>
<li>多特质混入时，代码执行【声明】顺序为从左到右，如果有父特质，会优先执行</li>
<li>多特质混入时，方法调用的顺序为从右到左</li>
<li>特质中super关键字不是指父特质，指代的是上一级特质，如DB到File，因为File左边没有特质了，最后才到父特质Operate</li>
<li>如果希望super指向父特质，需要在增加特殊操作。<code>super[Operate].insert</code><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span></span><br><span class="line">    mysql.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Operate...&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;DB...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向数据库&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">File</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;File...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向文件&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">extends</span> <span class="title">File</span> <span class="keyword">with</span> <span class="title">DB</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="20%E3%80%81%E5%A4%9A%E7%89%B9%E8%B4%A8%E6%B7%B7%E5%85%A51.png" alt="多特质混入1"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span></span><br><span class="line">    mysql.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Operate...&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;DB...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向数据库&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">File</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;File...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向文件&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">extends</span> <span class="title">DB</span> <span class="keyword">with</span> <span class="title">File</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="21%E3%80%81%E5%A4%9A%E7%89%B9%E8%B4%A8%E6%B7%B7%E5%85%A52.png" alt="多特质混入2"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span></span><br><span class="line">    mysql.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Operate...&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">DB</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;DB...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向数据库&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">File</span> <span class="keyword">extends</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;File...&quot;</span>)</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;向文件&quot;</span>)</span><br><span class="line">    <span class="keyword">super</span>[<span class="type">Operate</span>].insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">extends</span> <span class="title">DB</span> <span class="keyword">with</span> <span class="title">File</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="22%E3%80%81%E5%A4%9A%E7%89%B9%E8%B4%A8%E6%B7%B7%E5%85%A53.png" alt="多特质混入3"></li>
<li>java的接口可以在scala中当成特质来用</li>
<li><font color=red>动态混入，扩展性强，在构建对象时直接混入特质</font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//动态混入</span></span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span> <span class="keyword">with</span> <span class="type">Operate</span></span><br><span class="line">    mysql.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Operate...&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//现在Mysql类是没有插入的方法，想要扩展这个类的功能而不修改这个类，使用动态混入</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//class Mysql extends File&#123;   不允许</span></span><br><span class="line"><span class="comment">//  </span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span>  </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>特质继承类<ul>
<li>特质如果想使用某个类，可以继承<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//动态混入</span></span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span> </span><br><span class="line">    mysql.getMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//特质继承类</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">    <span class="keyword">this</span>.getMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">extends</span> <span class="title">Operate</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>如果不想要用过继承来使用某个类，如Exception，可以限定特质的范围<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//动态混入</span></span><br><span class="line">    <span class="keyword">val</span> mysql = <span class="keyword">new</span>  <span class="type">Mysql</span></span><br><span class="line">    mysql.getMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Operate</span></span>&#123;</span><br><span class="line">  <span class="comment">//特质使用范围</span></span><br><span class="line">  <span class="keyword">this</span>:<span class="type">Exception</span> =&gt;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;插入数据&quot;</span>)</span><br><span class="line">    <span class="keyword">this</span>.getMessage</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span> <span class="keyword">extends</span> <span class="title">Exception</span> <span class="keyword">with</span> <span class="title">Operate</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<h2 id="类信息"><a href="#类信息" class="headerlink" title="类信息"></a>类信息</h2><ol>
<li>获取类的信息，需要采用特殊的方法：classOf[类型]</li>
<li>classOf可以直接使用的原因是因为scala.Predef伴生对象默认导入到当前开发环境中<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//java中：User.class</span></span><br><span class="line">    <span class="comment">//object.getClass</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//获取类信息</span></span><br><span class="line">    <span class="keyword">val</span> userClass: <span class="type">Class</span>[<span class="type">User</span>] = classOf[<span class="type">User</span>]</span><br><span class="line">    userClass.getInterfaces</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>可以给类起别名<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="class"><span class="keyword">type</span> <span class="title">xxx</span> </span>= <span class="type">User</span></span><br><span class="line">    <span class="keyword">new</span> xxx</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>类型判断与转换<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">val</span> user: <span class="type">Object</span> = <span class="keyword">new</span> <span class="type">User1</span></span><br><span class="line">     </span><br><span class="line">    <span class="comment">//判断类型</span></span><br><span class="line">    <span class="keyword">val</span> bool = user.isInstanceOf[<span class="type">User1</span>]</span><br><span class="line">    <span class="keyword">if</span>(bool)&#123;</span><br><span class="line">      <span class="comment">//转换类型</span></span><br><span class="line">      <span class="keyword">val</span> user1 = bool.asInstanceOf[<span class="type">User1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User1</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>scala中可以不适用main方法作为入口来执行程序<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//scala会自动导入scala包中的类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  println(<span class="string">&quot;xxxxx&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>枚举：开发不太常用，因为需要频繁修改代码，不方便</li>
</ol>
<h1 id="隐式转换和隐式参数"><a href="#隐式转换和隐式参数" class="headerlink" title="隐式转换和隐式参数"></a>隐式转换和隐式参数</h1><ol>
<li>scala支持数值类型的自动转换，short -&gt; int -&gt; long</li>
<li>支持多态语法中的类型自动转换,child -&gt; parent -&gt; trait(interface)</li>
<li>可以自定义类型转换规则，将两个无关的类型通过编译手段让它们可以自动转换</li>
<li>使用隐式函数，关键字implicit<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">implicit</span>  <span class="function"><span class="keyword">def</span>  <span class="title">transform</span></span>(d: <span class="type">Double</span>) : <span class="type">Int</span> =&#123;</span><br><span class="line">    d.toInt</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//上述函数将5.0自动转换为5，故不会报错</span></span><br><span class="line">  <span class="keyword">val</span> i : <span class="type">Int</span> = <span class="number">5.0</span></span><br><span class="line">  println(i)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  手动实现一个隐式转换函数与5.0.toInt的区别？</span></span><br><span class="line"><span class="comment">  OCP：Open Close原则，开闭原则允许功能的扩展，但不允许对之前的代码有任何修改</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>隐式转换函数的函数名可以任意，隐式转换与函数名无关，只与函数签名（函数参数类型和返回值类型）有关。</li>
<li>隐式函数可以有多个(即：隐式函数列表)，但是需要保证在当前环境下，只有一个隐式函数能被识别</li>
<li>在相同的作用域内，不能含有多个相同类型的转换规则</li>
<li>使用隐式函数为类扩展功能，相当于动态混入特质<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">   </span><br><span class="line">  <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">transform</span></span>(a:<span class="type">Mysql</span>): <span class="type">Operater</span> =&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Operater</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">val</span> mysql = <span class="keyword">new</span> <span class="type">Mysql</span></span><br><span class="line">  mysql.select</span><br><span class="line">  <span class="comment">//这里就可以使用delete方法</span></span><br><span class="line">  mysql.delete</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mysql</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">select</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Operater</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>隐式参数：可以修改默认参数<br>传入参数织入隐式值，隐式参数只能在最后<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">implicit</span> <span class="keyword">val</span> username : <span class="type">String</span> = <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(age : <span class="type">Int</span>)(<span class="keyword">implicit</span> s : <span class="type">String</span>) : <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;Hello: &quot;</span> + s + <span class="string">&quot; Your age :&quot;</span> + age)</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    test(<span class="number">5</span>)</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(s:<span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;Hello: &quot;</span>+ s)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//不传参数时使用默认参数</span></span><br><span class="line">  test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="23%E3%80%81%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2.png" alt="隐式转换"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//使用隐式参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(<span class="keyword">implicit</span> s:<span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;Hello: &quot;</span>+ s)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//增加了implicit关键字，如果没有声明隐式值那么调用时可以省略小括号</span></span><br><span class="line">  <span class="comment">//test()</span></span><br><span class="line">  test</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="24%E3%80%81%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A21.png" alt="隐式转换1"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//隐式值</span></span><br><span class="line">  <span class="keyword">implicit</span> <span class="keyword">val</span> username : <span class="type">String</span> = <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">  <span class="comment">//使用隐式参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(<span class="keyword">implicit</span> s:<span class="type">String</span> = <span class="string">&quot;zhangsan&quot;</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;Hello: &quot;</span>+ s)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//声明了隐式值那么调用时可以有无小括号有本质区别</span></span><br><span class="line">  <span class="comment">//不加括号时会将隐式值传入到参数中</span></span><br><span class="line">  print(<span class="string">&quot;不加括号时织入隐式值：&quot;</span>)</span><br><span class="line">  test</span><br><span class="line">  <span class="comment">//加括号后由于程序任务括号内需要填写参数，那么会将原先的默认参数带上</span></span><br><span class="line">  print(<span class="string">&quot;加括号时使用默认参数：&quot;</span>)</span><br><span class="line">  test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="25%E3%80%81%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A22.png" alt="隐式转换2"></li>
<li>隐式值不能有多个</li>
</ol>
<h2 id="隐式类"><a href="#隐式类" class="headerlink" title="隐式类"></a>隐式类</h2><ol>
<li>其所带的构造参数有且只能有一个</li>
<li>隐式类必须被定义在“类”或“伴生对象”或“包对象”里，即<font color=red size=3><strong>隐式类不能是 顶级的(top-level  objects)</strong></font>。</li>
<li>隐式类不能是case class（case class在后续介绍 <font color=black><strong>样例类</strong></font>）</li>
<li>作用域内不能有与之相同名称的标识符<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">u:<span class="type">User4</span></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User4</span></span><br><span class="line">  user.insert</span><br><span class="line">  user.delete</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User4</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>隐式转换的时机<ul>
<li>当方法中的参数的类型与目标类型不一致时</li>
<li>当对象调用所在类中不存在的方法或成员时，编译器会自动将对象进行隐式转换（根据类型）</li>
</ul>
</li>
<li>如果T被定义为T with A with B with C,那么A,B,C都是T的部分，在T的隐式解析过程中，它们的伴生对象都会被搜索<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> user = <span class="keyword">new</span> <span class="type">User4</span></span><br><span class="line">  user.insert</span><br><span class="line">  user.delete</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User4</span> <span class="keyword">extends</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">  <span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">u:<span class="type">User4</span></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delete</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="集合（上）-基本使用"><a href="#集合（上）-基本使用" class="headerlink" title="集合（上）-基本使用"></a>集合（上）-基本使用</h1><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Java中的集合：List，Set，Map（可变）</span></span><br><span class="line">  <span class="comment">//List：有序，可重复，LinkedList，ArrayList</span></span><br><span class="line">  <span class="comment">//Set：无序，不重复，HashSet，TreeSet</span></span><br><span class="line">  <span class="comment">//Map：无序，可重复，K-V，key不能重复，value可重复，HashMap，HashTable，TreeMap</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>集合分两大类：可变集合和不可变集合</li>
<li>不可变集合：scala.collection.immutable。scala不可变集合，就是这个集合本身不能动态变化。(类似java的数组，是不可以动态增长的)<br><img src="26%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88.png" alt="不可变集合"></li>
<li>可变集合：  scala.collection.mutable。可变集合，就是这个集合本身可以动态变化的。(比如:ArrayList , 是可以动态增长的)<br><img src="27%E3%80%81%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88.png" alt="可变集合"></li>
<li>Scala默认采用不可变集合，对于几乎所有的集合类，Scala都同时提供了可变(mutable)和不可变(immutable)的版本</li>
<li>Scala的集合有三大类：序列Seq、集Set、映射Map，所有的集合都扩展自Iterable特质，在Scala中集合有可变（mutable）和不可变（immutable）两种类型</li>
</ol>
<h2 id="scala中的数组"><a href="#scala中的数组" class="headerlink" title="scala中的数组"></a>scala中的数组</h2><ol>
<li>Scala中的数组使用Array对象实现，使用中括号声明数组的类型</li>
<li>Array[String]</li>
<li>Scala可以使用简单的方式来创建数组</li>
<li>Array可以通过apply方法来创建数组对象</li>
<li>可变数组：ArrayBuffer<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> ints: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">  <span class="comment">//访问数组,使用小括号，增加索引的方式来访问数组</span></span><br><span class="line">  println(ints(<span class="number">0</span>))</span><br><span class="line">  <span class="comment">//数组长度</span></span><br><span class="line">  println(<span class="string">&quot;数组长度：&quot;</span>+ints.length)</span><br><span class="line"> </span><br><span class="line">  println(<span class="string">&quot;+: &quot;</span>+ints.+(<span class="string">&quot;sssss&quot;</span>))    <span class="comment">//+: [I@35f983a6sssss</span></span><br><span class="line">  <span class="comment">//将数组转换为字符串以逗号分隔打印出来</span></span><br><span class="line">  println(ints.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//将数组中的每个元素打印</span></span><br><span class="line">  <span class="keyword">for</span> (elem &lt;- ints) &#123;</span><br><span class="line">    println(elem)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//另一种遍历</span></span><br><span class="line">  <span class="comment">//foreach方法会将数组中的每一个元素进行循环遍历，执行指定函数实现逻辑</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printlnxxx</span></span>(i:<span class="type">Int</span> ):<span class="type">Unit</span> = &#123;</span><br><span class="line">    println(i)</span><br><span class="line">  &#125;</span><br><span class="line">  ints.foreach(printlnxxx)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//匿名函数使用</span></span><br><span class="line">  ints.foreach((i:<span class="type">Int</span>)=&gt;&#123;println(i)&#125;)</span><br><span class="line">  <span class="comment">//继续简化,因为每个元素只使用一次，故</span></span><br><span class="line">  ints.foreach(&#123;println(_)&#125;)</span><br><span class="line">  <span class="comment">//又由于只有一行代码，所以可以省略花括号</span></span><br><span class="line">  ints.foreach(println(_))</span><br><span class="line">  <span class="comment">//如果参数只有一个的，在当前场合下可以省略</span></span><br><span class="line">  ints.foreach(println)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//增加元素,采用方法向数组中增加新的元素但是不会对原有数组造成影响，而是产生新的数组</span></span><br><span class="line">  <span class="keyword">val</span> ints1 : <span class="type">Array</span>[<span class="type">Int</span>] = ints :+(<span class="number">5</span>) <span class="comment">//如果数组在前，那么5会追加到数组末尾</span></span><br><span class="line">  <span class="keyword">val</span> ints2 : <span class="type">Array</span>[<span class="type">Int</span>] = <span class="number">5</span> +: (ints) <span class="comment">//如果数字在前，那么5会追加到数组最前</span></span><br><span class="line">  println(ints1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  println(ints1 == ints)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//修改数据</span></span><br><span class="line">  <span class="comment">//数组不可变是内存地址不可变，但里面的值可以修改</span></span><br><span class="line">  ints.update(<span class="number">1</span>,<span class="number">5</span>)</span><br><span class="line">  println(ints.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//可变数组</span></span><br><span class="line">   <span class="keyword">val</span> arrayBuffer: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//访问可变数组</span></span><br><span class="line">  println(arrayBuffer(<span class="number">0</span>))</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//修改值</span></span><br><span class="line">  arrayBuffer(<span class="number">0</span>) = <span class="number">9</span></span><br><span class="line">   </span><br><span class="line">  <span class="comment">//打印字符串</span></span><br><span class="line">  println(arrayBuffer.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//循环遍历</span></span><br><span class="line">  arrayBuffer.foreach(println)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//增加数据</span></span><br><span class="line">   <span class="keyword">val</span> buffer1: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = arrayBuffer :+ <span class="number">5</span></span><br><span class="line">   <span class="keyword">val</span> buffer: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = arrayBuffer+=(<span class="number">9</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//向指定的位置，增加元素</span></span><br><span class="line">  arrayBuffer.insert(<span class="number">1</span>,<span class="number">9</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//删除数据,参数为索引值</span></span><br><span class="line">   <span class="keyword">val</span> i: <span class="type">Int</span> = arrayBuffer.remove(<span class="number">1</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//删除数据,第一个参数索引值，第二个参数，从指定索引开始删除的个数</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> unit: <span class="type">Unit</span> = arrayBuffer.remove(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>可变数组与不可变数组的转变<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//可变数组</span></span><br><span class="line">   <span class="keyword">val</span> arrayBuffer: <span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//可变数组转为不可变数组</span></span><br><span class="line">   <span class="keyword">val</span> array: <span class="type">Array</span>[<span class="type">Int</span>] = arrayBuffer.toArray</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//不可变数组</span></span><br><span class="line">   <span class="keyword">val</span> ints = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//不可变数组转为可变数组</span></span><br><span class="line">   <span class="keyword">val</span> buffer: mutable.<span class="type">Buffer</span>[<span class="type">Int</span>] = ints.toBuffer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="序列-Seq相关集合"><a href="#序列-Seq相关集合" class="headerlink" title="序列-Seq相关集合"></a>序列-Seq相关集合</h2><h3 id="不可变集合List"><a href="#不可变集合List" class="headerlink" title="不可变集合List"></a>不可变集合List</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//序列 Seq,不可变集合</span></span><br><span class="line">  <span class="comment">//默认scala提供的集合都是不可变（immutable）</span></span><br><span class="line">   <span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//通过索引获取数据</span></span><br><span class="line">  println(list(<span class="number">0</span>))  <span class="comment">//1</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//增加数据</span></span><br><span class="line">   <span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">Int</span>] = list :+ <span class="number">1</span></span><br><span class="line">  println(list1.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2,3,4,1</span></span><br><span class="line">  println(list == list1)  <span class="comment">//false</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//往list中存放增加list</span></span><br><span class="line">   <span class="keyword">val</span> list2: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">   <span class="keyword">val</span> list3: <span class="type">List</span>[<span class="type">Int</span>] = list.++(list2)</span><br><span class="line">  <span class="comment">// val list4: List[Int] = list ++ list2</span></span><br><span class="line">  println(list3.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2,3,4,5,6,7,8</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//list中的冒号运算符的运算顺序从右到左</span></span><br><span class="line">   <span class="keyword">val</span> list5: <span class="type">List</span>[<span class="type">Int</span>] = <span class="number">7</span>::<span class="number">8</span>::<span class="number">9</span>::list</span><br><span class="line">  println(list5.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//7,8,9,1,2,3,4</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> list6: <span class="type">List</span>[<span class="type">Any</span>] = <span class="number">9</span>::list1::list</span><br><span class="line">  println(list6.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//9,List(5,6,7,8),1,2,3,4,不是预期想要的结果</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//使用三个冒号运算符，将list拆开</span></span><br><span class="line">  <span class="keyword">val</span> list7: <span class="type">List</span>[<span class="type">Int</span>] = <span class="number">9</span>::list1:::list</span><br><span class="line">  println(list7.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//9,5,6,7,8,1,2,3,4</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//特殊集合:空集合</span></span><br><span class="line">  println(<span class="type">List</span>()) <span class="comment">//List()</span></span><br><span class="line">  println(<span class="type">Nil</span>)  <span class="comment">//List()</span></span><br><span class="line">  <span class="number">1</span>::<span class="number">2</span>::<span class="number">3</span>::<span class="type">Nil</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//修改</span></span><br><span class="line">   <span class="keyword">val</span> list8: <span class="type">List</span>[<span class="type">Int</span>] = list.updated(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">  println(list8.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2,5,4</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//删除数据,参数指从删除的个数，从第一个开始</span></span><br><span class="line">   <span class="keyword">val</span> list9: <span class="type">List</span>[<span class="type">Int</span>] = list.drop(<span class="number">3</span>)</span><br><span class="line">  println(list9.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="可变集合ListBuffer"><a href="#可变集合ListBuffer" class="headerlink" title="可变集合ListBuffer"></a>可变集合ListBuffer</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123; </span><br><span class="line">  <span class="comment">//可变集合</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> listBuffer: <span class="type">ListBuffer</span>[<span class="type">Int</span>] = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  listbuffer.insert()</span></span><br><span class="line"><span class="comment">  listBuffer.update()</span></span><br><span class="line"><span class="comment">  listBuffer.drop()</span></span><br><span class="line"><span class="comment">  listBuffer.remove()</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//集合的属性</span></span><br><span class="line">  <span class="comment">//头部</span></span><br><span class="line">  println(listBuffer.head)  <span class="comment">//1</span></span><br><span class="line">  <span class="comment">//尾部（除了头以外）</span></span><br><span class="line">  println(listBuffer.tail)  <span class="comment">//ListBuffer(2,3,4),除了头部以外都是尾部</span></span><br><span class="line">  <span class="comment">//最后一个元素</span></span><br><span class="line">  println(listBuffer.last)  <span class="comment">//4</span></span><br><span class="line">  <span class="comment">//初始化（除了最后一个）</span></span><br><span class="line">  println(listBuffer.init)  <span class="comment">//ListBuffer(1,2,3)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="队列，可变集合——Queue"><a href="#队列，可变集合——Queue" class="headerlink" title="队列，可变集合——Queue"></a>队列，可变集合——Queue</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//队列（一定可变）</span></span><br><span class="line">  <span class="keyword">val</span> q = mutable.<span class="type">Queue</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">  println(<span class="string">&quot;add Before = &quot;</span> + q)</span><br><span class="line">  q.enqueue(<span class="number">5</span>)</span><br><span class="line">  println(<span class="string">&quot;add after &quot;</span> + q)</span><br><span class="line">  <span class="keyword">val</span> i: <span class="type">Int</span> = q.dequeue()</span><br><span class="line">  println(<span class="string">&quot;i= &quot;</span> + i)</span><br><span class="line">  println(<span class="string">&quot;delete after&quot;</span> + q)</span><br><span class="line">  q.dequeue()</span><br><span class="line">  q.dequeue()</span><br><span class="line">  q.dequeue()</span><br><span class="line">  println(<span class="string">&quot;delete after&quot;</span> + q)</span><br></pre></td></tr></table></figure>

<h2 id="Set相关集合"><a href="#Set相关集合" class="headerlink" title="Set相关集合"></a>Set相关集合</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//不可变Set集合，无序，不可重复</span></span><br><span class="line">  <span class="keyword">val</span> set: <span class="type">Set</span>[<span class="type">Int</span>] = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">  println(set.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2,3,4,不可重复，也是无序</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//增加数据</span></span><br><span class="line">  println(set + <span class="number">11</span>)</span><br><span class="line">  <span class="comment">//删除数据</span></span><br><span class="line">  println(set - <span class="number">3</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//可变set集合</span></span><br><span class="line">  <span class="keyword">val</span> mset : mutable.<span class="type">Set</span>[<span class="type">Int</span>] = mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Map相关集合"><a href="#Map相关集合" class="headerlink" title="Map相关集合"></a>Map相关集合</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Map集合：K-V对</span></span><br><span class="line">  <span class="comment">//HashMap.put(&quot;k&quot;,&quot;v&quot;)</span></span><br><span class="line">  <span class="comment">//Scala中k-v对数据采用特殊的方式声明</span></span><br><span class="line">  <span class="comment">//默认Map集合不可变</span></span><br><span class="line">  <span class="keyword">val</span> map : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//增加数据</span></span><br><span class="line">  <span class="keyword">val</span> map1 : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map + (<span class="string">&quot;d&quot;</span>-&gt;<span class="number">4</span>)</span><br><span class="line">  println(map1.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//a -&gt; 1,b -&gt; 2,c -&gt; 3,d -&gt; 4</span></span><br><span class="line">  println(map == map1)  <span class="comment">//false</span></span><br><span class="line">  <span class="comment">//删除数据</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> map2 : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map - (<span class="string">&quot;e&quot;</span>)</span><br><span class="line">  println(map2.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//如果key为e的找不到，不会报错，找到就删之</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//循环遍历</span></span><br><span class="line">  <span class="comment">//Scala为了防止集合出现空指针问题，提供了一个特殊的类：Option，有两个特殊的对象，Some，None</span></span><br><span class="line">  <span class="comment">//如果确实没有获取到数据，为了不出现异常，Option提供了有默认值的方法</span></span><br><span class="line">  println(map.get(<span class="string">&quot;d&quot;</span>).get) <span class="comment">//报错：.NoSuchElementException: None.get</span></span><br><span class="line">  println(map.get(<span class="string">&quot;d&quot;</span>).getOrElse(<span class="number">0</span>))  <span class="comment">//如果没有找到key为d，那么就会返回0</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//可变Map集合</span></span><br><span class="line">  <span class="keyword">val</span> mmap : mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//将无关的数据当成一个整体来使用</span></span><br><span class="line">  <span class="comment">//如empid,email,ordernum</span></span><br><span class="line">  <span class="comment">//三个数据不相关联，也无法使用map集合，那么可以使用元组</span></span><br><span class="line">  <span class="comment">//使用小括号将数据关联在一起，形成了一个整体</span></span><br><span class="line">  <span class="comment">//元组中最多的元素数据的个数为22</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> tuple : (<span class="type">String</span>, <span class="type">Int</span>, <span class="type">String</span>) = (<span class="string">&quot;zhangsan&quot;</span>,<span class="number">11111</span>,<span class="string">&quot;xxxxxxx&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//访问元组中的数据,调用相应的顺序编号：_顺序号</span></span><br><span class="line">  println(tuple._1) <span class="comment">//&quot;zhangsan&quot;</span></span><br><span class="line">  println(tuple._2) <span class="comment">//1111</span></span><br><span class="line">  println(tuple._3) <span class="comment">//&quot;xxxxxxx&quot;</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//循环遍历</span></span><br><span class="line">  <span class="keyword">for</span> (elem &lt;- tuple.productIterator) &#123;</span><br><span class="line">    println(elem)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//如果元组中元素的个数为2，那么称之为对偶,类似于Map中键值对</span></span><br><span class="line">  <span class="keyword">val</span> tuple1: (<span class="type">Int</span>,<span class="type">String</span>) = (<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span> )</span><br><span class="line">  <span class="comment">//将元组转为map</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> tupleMap : <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">String</span>] = <span class="type">Map</span>((<span class="number">1</span>,<span class="string">&quot;zhangsan&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  tupleMap.foreach(t=&gt;println(t))</span><br><span class="line">  tupleMap.foreach(t=&gt;println(t._1 + <span class="string">&quot;= &quot;</span> + t._2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="集合（下）-应用操作"><a href="#集合（下）-应用操作" class="headerlink" title="集合（下）-应用操作"></a>集合（下）-应用操作</h1><h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//集合常用方法</span></span><br><span class="line">  <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 求和</span></span><br><span class="line">  println(<span class="string">&quot;sum= &quot;</span>+list.sum) <span class="comment">//sum= 10</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 最大值</span></span><br><span class="line">  println(<span class="string">&quot;max= &quot;</span>+list.max) <span class="comment">//max= 4</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 最小值</span></span><br><span class="line">  println(<span class="string">&quot;min= &quot;</span>+list.min) <span class="comment">//min= 1</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 乘积</span></span><br><span class="line">  println(<span class="string">&quot;product= &quot;</span>+list.product) <span class="comment">//product= 24</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">//TODO 反转(无排序)</span></span><br><span class="line">  println(<span class="string">&quot;reverse= &quot;</span> + list.reverse) <span class="comment">//reverse= List(3, 4, 2, 1)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//分组（通过指定函数的返回值进行分组）</span></span><br><span class="line">  <span class="keyword">val</span> list1 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">val</span> intToInts: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">List</span>[<span class="type">Int</span>]] = list1.groupBy(t=&gt;t)</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  2=List(2, 2)</span></span><br><span class="line"><span class="comment">  4=List(4)</span></span><br><span class="line"><span class="comment">  1=List(1, 1)</span></span><br><span class="line"><span class="comment">  3=List(3)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  intToInts.foreach(t=&gt;println(t._1 + <span class="string">&quot;=&quot;</span> + t._2))</span><br><span class="line">  <span class="comment">//根据每个字符串的第一个字符来进行分组</span></span><br><span class="line">  <span class="keyword">val</span> stringList = <span class="type">List</span>(<span class="string">&quot;11&quot;</span>,<span class="string">&quot;22&quot;</span>,<span class="string">&quot;33&quot;</span>,<span class="string">&quot;12&quot;</span>,<span class="string">&quot;23&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> stringToStrings: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">String</span>]] = stringList.groupBy(x=&gt;x.substring(<span class="number">0</span>,<span class="number">1</span>))</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  2= List(22, 23)</span></span><br><span class="line"><span class="comment">  1= List(11, 12)</span></span><br><span class="line"><span class="comment">  3= List(33)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  stringToStrings.foreach(t=&gt;println(t._1 + <span class="string">&quot;= &quot;</span>+ t._2))</span><br><span class="line">  <span class="comment">// 根据奇偶来分组</span></span><br><span class="line">  <span class="keyword">val</span> intToInts1: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">List</span>[<span class="type">Int</span>]] = list1.groupBy(t=&gt;&#123;t % <span class="number">2</span>&#125;)</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  1=List(1, 3, 1)</span></span><br><span class="line"><span class="comment">  0=List(2, 4, 2)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  intToInts1.foreach(t=&gt;println(t._1 + <span class="string">&quot;=&quot;</span> + t._2))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 排序（按照指定的规则进行排序）</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> sortList: <span class="type">List</span>[<span class="type">Int</span>] = list.sortBy(x=&gt;x)</span><br><span class="line">  println(sortList.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//1,2,3,4</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 排序</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  left:a, right:b</span></span><br><span class="line"><span class="comment">  a &lt; b,从左边到右边，是从小到大，升序，true</span></span><br><span class="line"><span class="comment">  a &gt; b,从左边到右边，是从大到小，降序看，false</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> sortList1 : <span class="type">List</span>[<span class="type">Int</span>] = list.sortWith((a, b)=&gt;&#123;<span class="literal">true</span>&#125;)</span><br><span class="line">  println(sortList1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  将val stringList = List(&quot;11&quot;,&quot;22&quot;,&quot;33&quot;,&quot;12&quot;,&quot;23&quot;)里面的第二个字符按照降序排列</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> sortList2 : <span class="type">List</span>[<span class="type">String</span>] = stringList.sortWith((left, right)=&gt;(left.substring(<span class="number">1</span>) &gt; right.substring(<span class="number">1</span>)))</span><br><span class="line">  println(sortList2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 获取集合的前n个</span></span><br><span class="line">  list.take(<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 迭代</span></span><br><span class="line">  <span class="keyword">for</span> (elem &lt;- list.iterator) &#123;</span><br><span class="line">    println(elem)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 映射（转换）</span></span><br><span class="line">  <span class="comment">//x=&gt;(x,x)</span></span><br><span class="line">  <span class="keyword">val</span> tuples: <span class="type">List</span>[(<span class="type">Int</span>, <span class="type">Int</span>)] = list.map(x=&gt;&#123;(x,x)&#125;)</span><br><span class="line">  println(tuples.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//(1,1),(2,2),(4,4),(3,3)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  val list1 = List(1,2,4,3,2,1)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> intToTuples2: <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">Int</span>] = list1.map(x=&gt;&#123;(x,x)&#125;).groupBy(x=&gt;x._1).map(t=&gt;(t._1, t._2.size))</span><br><span class="line">  println(intToTuples2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO WorldCount</span></span><br><span class="line">  <span class="keyword">val</span> list4  = <span class="type">List</span>(<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;Scala&quot;</span>,<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;World&quot;</span>,<span class="string">&quot;Hbase&quot;</span>,<span class="string">&quot;Hadoop&quot;</span>,<span class="string">&quot;Kafka&quot;</span>,<span class="string">&quot;Scala&quot;</span>,<span class="string">&quot;World&quot;</span>)</span><br><span class="line">  <span class="comment">//对集合中的单词字符串进行统计出现的次数，并且按照出现次数降序排列，取前三名</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//1) 将相同单词放置在一起（分组）</span></span><br><span class="line">  <span class="comment">//    (Hello,List(&quot;Hello&quot;,&quot;Hello&quot;))</span></span><br><span class="line">  <span class="keyword">val</span> wordToListMap : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">String</span>]] = list4.groupBy(word=&gt;word)</span><br><span class="line">  <span class="comment">//2） 将数据结构进行转换</span></span><br><span class="line">  <span class="comment">//    (Hello,wordCount=list.size)</span></span><br><span class="line">  <span class="keyword">val</span> wordToCountMap : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = wordToListMap.map(x=&gt;&#123;(x._1,x._2.size)&#125;)</span><br><span class="line">  <span class="comment">//3) 将数据进行排序（降序）</span></span><br><span class="line">  <span class="comment">//(Hbase,1),(Scala,2),(Hello,2),(Kafka,1),(Hadoop,1),(World,2),list包裹着每一个元组</span></span><br><span class="line">  <span class="keyword">val</span> wordToCountSort : <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCountMap.toList.sortWith((left, right)=&gt;(left._2 &gt; right._2))</span><br><span class="line">  <span class="comment">//4) 取排序完成后的前3条数据</span></span><br><span class="line">  <span class="keyword">val</span> resultList : <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCountSort.take(<span class="number">3</span>)</span><br><span class="line">  println(resultList.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 扁平化操作</span></span><br><span class="line">  <span class="comment">//将一个整体中的内容拆成一个一个的个体</span></span><br><span class="line">  <span class="keyword">val</span> lineList = <span class="type">List</span>(<span class="string">&quot;Hello World&quot;</span>,<span class="string">&quot;Hello Scala&quot;</span>,<span class="string">&quot;Hello Hadoop&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//list =&gt; 1,2,3</span></span><br><span class="line">  <span class="keyword">val</span> flatMapList : <span class="type">List</span>[<span class="type">String</span>] = lineList.flatMap(x=&gt;x.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  List(Hello World, Hello Scala, Hello Hadoop)</span></span><br><span class="line"><span class="comment">  List(Hello, World, Hello, Scala, Hello, Hadoop)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  println(lineList)</span><br><span class="line">  println(flatMapList)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 对集合的数据进行筛选过滤，true保留，false不保留</span></span><br><span class="line">  <span class="keyword">val</span> filterList : <span class="type">List</span>[<span class="type">Int</span>] = list.filter(x=&gt;x % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">  println(filterList.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 拉链：zip</span></span><br><span class="line">  <span class="keyword">val</span> list6 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">  <span class="keyword">val</span> list7 = <span class="type">List</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//将两个集合数据进行关联，关联后的数据形成了元组</span></span><br><span class="line">  <span class="keyword">val</span> tuples7: <span class="type">List</span>[(<span class="type">Int</span>, <span class="type">Int</span>)] = list6.zip(list7)</span><br><span class="line">  println(tuples7.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//(1,4),(2,5),(3,6)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//如果list中多了一个元素，那么结果就是舍弃多于的元素</span></span><br><span class="line">  <span class="keyword">val</span> list8 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">  <span class="keyword">val</span> tuples11 : <span class="type">List</span>[(<span class="type">Int</span>, <span class="type">Int</span>)] = list7.zip(list8)</span><br><span class="line">  println(tuples11.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//(1,4),(2,5),(3,6)   -- (4,1),(5,2),(6,3)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 集合并集</span></span><br><span class="line">  <span class="keyword">val</span> unionList : <span class="type">List</span>[<span class="type">Int</span>] = list6.union(list7)</span><br><span class="line">  println(unionList.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2,3,4,5,6</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 交集</span></span><br><span class="line">  <span class="keyword">val</span> list9 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">  <span class="keyword">val</span> list10 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">8</span>)</span><br><span class="line">  <span class="keyword">val</span> intersectList : <span class="type">List</span>[<span class="type">Int</span>] = list9.intersect(list10)</span><br><span class="line">  println(intersectList.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//1,2</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//TODO 差集</span></span><br><span class="line">  <span class="keyword">val</span> diffList1 : <span class="type">List</span>[<span class="type">Int</span>] = list9.diff(list10)</span><br><span class="line">  <span class="keyword">val</span> diffList2 : <span class="type">List</span>[<span class="type">Int</span>] = list10.diff(list9)</span><br><span class="line">  println(diffList1.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//3,7</span></span><br><span class="line">  println(diffList2.mkString(<span class="string">&quot;,&quot;</span>))  <span class="comment">//4,8</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Scala-wordCount解析"><a href="#Scala-wordCount解析" class="headerlink" title="Scala wordCount解析"></a>Scala wordCount解析</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//TODO 使用Scala实现单词数量统计功能：</span></span><br><span class="line"><span class="keyword">val</span> list20  = <span class="type">List</span>((<span class="string">&quot;Hello Scala World&quot;</span>, <span class="number">4</span>),(<span class="string">&quot;Hello World&quot;</span>, <span class="number">3</span>),(<span class="string">&quot;Hello Hadoop&quot;</span>, <span class="number">2</span>),(<span class="string">&quot;Hello Hbase&quot;</span>, <span class="number">1</span>))</span><br><span class="line"><span class="comment">//将上面集合中的单词统计出现次数并按照次数降序排列取前3</span></span><br></pre></td></tr></table></figure>
<p><img src="28%E3%80%81wordCount%E8%A7%A3%E6%9E%90.png" alt="wordCount解析"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">WordCount</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">//TODO 使用Scala实现单词数量统计功能：</span></span><br><span class="line">  <span class="keyword">val</span> list20  = <span class="type">List</span>((<span class="string">&quot;Hello Scala World&quot;</span>, <span class="number">4</span>),(<span class="string">&quot;Hello World&quot;</span>, <span class="number">3</span>),(<span class="string">&quot;Hello Hadoop&quot;</span>, <span class="number">2</span>),(<span class="string">&quot;Hello Hbase&quot;</span>, <span class="number">1</span>))</span><br><span class="line">  <span class="comment">//将上面集合中的单词统计出现次数并按照次数降序排列取前3</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//将一行一行的数据拆分成一个一个的单词数据</span></span><br><span class="line">  <span class="comment">//(&quot;Hello Scala World&quot;,4)</span></span><br><span class="line">  <span class="comment">//=&gt;[ (Hello), (Scala), (World) ]</span></span><br><span class="line">  <span class="comment">//=&gt;[ (Hello,4), (Scala,4), (World,4) ]</span></span><br><span class="line">  <span class="keyword">val</span> flatMapList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = list20.flatMap(t =&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> line: <span class="type">String</span> = t._1</span><br><span class="line">    <span class="keyword">val</span> words = line.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">    words.map(word =&gt; &#123;(word, t._2)&#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//将单词进行分组</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> groupWordMap : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)]] = flatMapList.groupBy(t=&gt;t._1)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//求和</span></span><br><span class="line">  <span class="comment">//Hello -&gt; List((Hello,4), (Hello,3), (Hello,2), (Hello,1))</span></span><br><span class="line">  <span class="comment">//=&gt;List((4),(3),(2),(1))</span></span><br><span class="line">  <span class="keyword">val</span> sumMap : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = groupWordMap.map(t =&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> word: <span class="type">String</span> = t._1</span><br><span class="line">    <span class="keyword">val</span> sum: <span class="type">Int</span> = t._2.map(num =&gt; (num._2)).sum</span><br><span class="line">    (word, sum)</span><br><span class="line">  &#125;)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//另一种写法，mapValues方法，可以只针对Map集合中的value做操作，key保持不变</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> wordToSumMap : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = groupWordMap.mapValues(datas=&gt;datas.map(t=&gt;t._2).sum)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//将统计的结果进行降序排列</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> sortList : <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToSumMap.toList.sortWith((left, right)=&gt;(left._2 &gt; right._2))</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//从排序后的集合中取前3条</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> resultList : <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sortList.take(<span class="number">3</span>)</span><br><span class="line">   </span><br><span class="line">  println(resultList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>从文件中获取数据<br><img src="29%E3%80%81%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF.png" alt="文本信息"><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Hello</span> <span class="type">Scala</span> <span class="type">World</span>, <span class="number">4</span></span><br><span class="line"><span class="type">Hello</span> <span class="type">World</span>, <span class="number">3</span></span><br><span class="line"><span class="type">Hello</span> <span class="type">Hadoop</span>, <span class="number">2</span></span><br><span class="line"><span class="type">Hello</span> <span class="type">Hbase</span>, <span class="number">1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从文件中获取数据，统计数量</span></span><br><span class="line">  <span class="type">Source</span>.fromFile(<span class="string">&quot;in/word.txt&quot;</span>).getLines().toList</span><br><span class="line"></span><br><span class="line"><span class="comment">//从文件中获取数据，统计数量</span></span><br><span class="line"><span class="comment">//通过map转换结构</span></span><br><span class="line">   <span class="keyword">val</span> list : <span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = <span class="type">Source</span>.fromFile(<span class="string">&quot;in/word.txt&quot;</span>).getLines().toList.map(t=&gt;&#123;</span><br><span class="line">    <span class="comment">// List(Hello Scala World,  4, Hello World,  3, Hello Hadoop,  2, Hello Hbase,  1)</span></span><br><span class="line">    <span class="comment">// t.split(&quot;,&quot;)</span></span><br><span class="line">     <span class="keyword">val</span> words : <span class="type">Array</span>[<span class="type">String</span>] = t.split(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">     (words(<span class="number">0</span>),words(<span class="number">1</span>).trim.toInt)</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="reduce方法"><a href="#reduce方法" class="headerlink" title="reduce方法"></a>reduce方法</h2><p><img src="30%E3%80%81reduce%E6%96%B9%E6%B3%95.png" alt="reduce方法"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//TODO 简化，数据减少，不是结果变少</span></span><br><span class="line">  <span class="keyword">val</span> list100 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">  <span class="comment">//从源码角度看，reduce和reduceLeft功能一样</span></span><br><span class="line">  <span class="keyword">val</span> result : <span class="type">Int</span> = list.reduce(_+_)</span><br><span class="line">  <span class="comment">//等同于</span></span><br><span class="line">  list.reduce((left ,right)=&gt;&#123;left+right&#125;)</span><br><span class="line"> </span><br><span class="line">  list.reduce(_-_)  <span class="comment">//相减</span></span><br><span class="line">  println(result)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//reversed ==&gt; 4,3,2,1</span></span><br><span class="line">  <span class="comment">//reduceLeft ==&gt;((1-2)-3)-4</span></span><br><span class="line">  <span class="comment">//reduceRight ==&gt;1 -(2-(3-4)) ==&gt; -2</span></span><br><span class="line">  <span class="keyword">val</span> result1 : <span class="type">Int</span> = list.reduceRight(_-_)</span><br></pre></td></tr></table></figure>

<h2 id="fold方法"><a href="#fold方法" class="headerlink" title="fold方法"></a>fold方法</h2><p><img src="31%E3%80%81fold%E6%96%B9%E6%B3%95.png" alt="fold方法"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//TODO 折叠，也可以对集合数据进行简化，获取最终的一条结果</span></span><br><span class="line">  <span class="comment">//fold方法可以传递2个部分的参数，第一个部分表示集合之外的数据</span></span><br><span class="line">  <span class="comment">//第二部分的参数表示数据进行的逻辑处理</span></span><br><span class="line">  <span class="keyword">val</span> list200 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">  <span class="keyword">val</span> i: <span class="type">Int</span> = list200.fold(<span class="number">100</span>)(_+_)</span><br><span class="line">  println(i)  <span class="comment">//110</span></span><br><span class="line">  <span class="keyword">val</span> i1 : <span class="type">Int</span> =list200.fold(<span class="number">100</span>)(_-_)</span><br><span class="line">  println(i1) <span class="comment">//90</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//reverse ==&gt; 4,3,2,1</span></span><br><span class="line">  <span class="comment">//foldLeft ==&gt; (((10-4)-3)-2)-1</span></span><br><span class="line">  <span class="comment">//foldRight ==&gt;1-(2-(3-(4-10))),交换位置</span></span><br><span class="line">  <span class="keyword">val</span> i2 : <span class="type">Int</span> = list200.foldRight(<span class="number">10</span>)(_-_)</span><br><span class="line">  println(i2)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//实际应用</span></span><br><span class="line">  <span class="comment">//将两个Map进行合并,相同的key做累加，不同的key直接增加</span></span><br><span class="line">  <span class="comment">//a-&gt;4,b-&gt;2,c-&gt;5,d-&gt;1</span></span><br><span class="line">  <span class="keyword">val</span> map1 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line">  <span class="keyword">val</span> map2 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">3</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;d&quot;</span>-&gt;<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//t表示tuple，map中的每一个键值对</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> stringToInt: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map2.foldLeft(map1)((map, t) =&gt; &#123;</span><br><span class="line">    <span class="comment">//&quot;a&quot;-&gt;3</span></span><br><span class="line">    <span class="comment">//map集合设置的方式 map(key)=value</span></span><br><span class="line">    map(t._1) = map.getOrElse(t._1, <span class="number">0</span>) + t._2 <span class="comment">//Map(b -&gt; 2, d -&gt; 1, a -&gt; 4, c -&gt; 5)</span></span><br><span class="line">    map</span><br><span class="line">  &#125;)</span><br><span class="line">  println(stringToInt)</span><br></pre></td></tr></table></figure>

<h1 id="模式匹配（match）"><a href="#模式匹配（match）" class="headerlink" title="模式匹配（match）"></a>模式匹配（match）</h1><ol>
<li>Scala中的模式匹配类似于Java中的switch语法，但是<font color=red>更加强大</font>。</li>
<li>模式匹配语法中，采用match关键字声明，每个分支采用case关键字进行声明，当需要匹配时，会从第一个case分支开始，如果匹配成功，那么执行对应的逻辑代码，如果匹配不成功，继续执行下一个分支进行判断。如果<font color=red>所有case都不匹配</font>，那么会执行<code>case _ </code>分支，类似于Java中default语句。<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.<span class="type">GenTraversableOnce</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 模式匹配，类似于Java的switch语法</span></span><br><span class="line">  <span class="keyword">val</span> oper = &#x27;#&#x27;</span><br><span class="line">  <span class="keyword">val</span> n1 = <span class="number">20</span></span><br><span class="line">  <span class="keyword">val</span> n2 = <span class="number">10</span></span><br><span class="line">  <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">  oper <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="comment">//Scala 中只会匹配上case的语句，执行完后就结束，没有穿透作用，即不会继续执行下面的case语句</span></span><br><span class="line">    <span class="keyword">case</span> &#x27;+&#x27; =&gt; res = n1 + n2</span><br><span class="line">    <span class="keyword">case</span> &#x27;-&#x27; =&gt; res = n1 - n2</span><br><span class="line">    <span class="keyword">case</span> &#x27;*&#x27; =&gt; res = n1 * n2</span><br><span class="line">    <span class="keyword">case</span> &#x27;/&#x27; =&gt; res = n1 / n2</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;oper error&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  println(<span class="string">&quot;res=&quot;</span> + res)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//下划线作用：</span></span><br><span class="line">  <span class="comment">//1、模式匹配的其他场合</span></span><br><span class="line">  <span class="comment">//2、系统给变量赋予初始值</span></span><br><span class="line">  <span class="comment">//3、类似于java导包的*号</span></span><br><span class="line">  <span class="comment">//4、给类起别名，隐藏类</span></span><br><span class="line">  <span class="comment">//5、代替方法的参数，可以让函数不执行</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> list = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>),<span class="type">List</span>(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">  <span class="comment">//List(1,2,3,4)</span></span><br><span class="line">  <span class="comment">//每次传入的是一个集合，扁平化操作后返回的也是一个集合，故可以如下写</span></span><br><span class="line">  <span class="keyword">val</span> flatList : <span class="type">List</span>[<span class="type">Int</span>] = list.flatMap(x=&gt;x)</span><br><span class="line">  println(flatList) <span class="comment">//List(1, 2, 3, 4)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//如果使用下划线代替，会出现歧义</span></span><br><span class="line">  <span class="keyword">val</span> intsToOnceToList: (<span class="type">List</span>[<span class="type">Int</span>] =&gt; <span class="type">GenTraversableOnce</span>[<span class="type">Nothing</span>]) =&gt; <span class="type">List</span>[<span class="type">Nothing</span>] = list.flatMap(_)</span><br><span class="line">  println(intsToOnceToList) <span class="comment">//&lt;function1&gt;</span></span><br><span class="line">  <span class="comment">//这里返回的是函数本身，是因为程序无法识别这个_是这个函数还是函数里面的参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(list: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">List</span>[<span class="type">Int</span>] =&#123;</span><br><span class="line">    list</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">val</span> ints: <span class="type">List</span>[<span class="type">Int</span>] = list.flatMap(test)</span><br><span class="line">  println(ints) <span class="comment">//List(1, 2, 3, 4)</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> list1 = <span class="type">List</span>(<span class="string">&quot;Hello Scala&quot;</span>,<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">  <span class="comment">//List(&quot;Hello&quot;,&quot;Scala&quot;,&quot;Hello&quot;,&quot;World&quot;)</span></span><br><span class="line">  <span class="keyword">val</span> strings: <span class="type">List</span>[<span class="type">String</span>] = list1.flatMap(x=&gt;x.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">  <span class="comment">//这里就可以使用下划线，是因为函数本身没有split方法，故可以推断出来</span></span><br><span class="line">  <span class="keyword">val</span> strings1: <span class="type">List</span>[<span class="type">String</span>] = list1.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">  println(strings1)  <span class="comment">//List(Hello, Scala, Hello, World)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="match的细节和注意事项"><a href="#match的细节和注意事项" class="headerlink" title="match的细节和注意事项"></a>match的细节和注意事项</h2><ol>
<li>如果所有case都不匹配，那么执行<code>case _ </code>分支，类似于Java中default语句</li>
<li>如果所有case都不匹配，又没有写<code>case _ </code>分支，那么会抛出MatchError</li>
<li>每个case中，不用break语句，自动中断case</li>
<li>可以在match中使用其它类型，而不仅仅是字符,可以是表达式</li>
<li><code>=&gt; </code>类似于 java swtich 的 <code>:</code><br><code>=&gt;</code> 后面的代码块到下一个case, 是作为一个整体执行，可以使用{} 括起来，也可以不括。 </li>
</ol>
<h2 id="守卫"><a href="#守卫" class="headerlink" title="守卫"></a>守卫</h2><ol>
<li>如果想要表达<font color=red>匹配某个范围的数据</font>，就需要在模式匹配中增加条件守卫</li>
<li>条件守卫需要放在case _分支前面，这样才能匹配上</li>
<li><font color=red size=3><strong><code>case _</code>分支是所有都满足，如果放在最前面，那么就只会执行这个分支后就退出了，一般将该分支放到最后</strong></font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (ch &lt;- <span class="string">&quot;+-3!&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sign = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> digit = <span class="number">0</span></span><br><span class="line">    ch <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &#x27;+&#x27; =&gt; sign = <span class="number">1</span></span><br><span class="line">      <span class="keyword">case</span> &#x27;-&#x27; =&gt; sign = <span class="number">-1</span></span><br><span class="line">      <span class="keyword">case</span> _ <span class="keyword">if</span> ch.toString.equals(<span class="string">&quot;3&quot;</span>) =&gt; digit = <span class="number">3</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; sign = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(ch + <span class="string">&quot; &quot;</span> + sign + <span class="string">&quot; &quot;</span> + digit)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h2><ul>
<li>如果在case关键字后跟变量名，那么match前表达式的值会赋给那个变量<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> ch = &#x27;<span class="type">V</span>&#x27;</span><br><span class="line">ch <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> &#x27;+&#x27; =&gt; println(<span class="string">&quot;ok~&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> mychar =&gt; println(<span class="string">&quot;ok~&quot;</span> + mychar)</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; println (<span class="string">&quot;ok~~&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="类型匹配"><a href="#类型匹配" class="headerlink" title="类型匹配"></a>类型匹配</h2><ul>
<li>可以匹配对象的任意类型，这样做避免了使用isInstanceOf和asInstanceOf方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 类型匹配, obj 可能有如下的类型</span></span><br><span class="line">  <span class="keyword">val</span> a = <span class="number">7</span></span><br><span class="line">  <span class="keyword">val</span> obj = <span class="keyword">if</span>(a == <span class="number">1</span>) <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">2</span>) <span class="string">&quot;2&quot;</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">3</span>) <span class="type">BigInt</span>(<span class="number">3</span>)</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">4</span>) <span class="type">Map</span>(<span class="string">&quot;aa&quot;</span> -&gt; <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">5</span>) <span class="type">Map</span>(<span class="number">1</span> -&gt; <span class="string">&quot;aa&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">6</span>) <span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)    <span class="comment">//Array[Int]</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">7</span>) <span class="type">Array</span>(<span class="string">&quot;aa&quot;</span>, <span class="number">1</span>)    <span class="comment">//Array[Any]</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a == <span class="number">8</span>) <span class="type">Array</span>(<span class="string">&quot;aa&quot;</span>)   <span class="comment">//Array[String]</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> result = obj <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> a : <span class="type">Int</span> =&gt; a</span><br><span class="line">    <span class="keyword">case</span> b : <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] =&gt; <span class="string">&quot;对象是一个字符串-数字的Map集合&quot;</span></span><br><span class="line">      <span class="comment">//类型匹配中对泛型不起作用，如果a=5时匹配不上Map[Int,String],只会匹配上Map[String,Int]</span></span><br><span class="line">    <span class="keyword">case</span> c : <span class="type">Map</span>[<span class="type">Int</span>, <span class="type">String</span>] =&gt; <span class="string">&quot;对象是一个数字-字符串的Map集合&quot;</span></span><br><span class="line">    <span class="keyword">case</span> d : <span class="type">Array</span>[<span class="type">String</span>] =&gt; <span class="string">&quot;对象是一个字符串数组&quot;</span></span><br><span class="line">    <span class="keyword">case</span> e : <span class="type">Array</span>[<span class="type">Int</span>] =&gt; <span class="string">&quot;对象是一个数字数组&quot;</span></span><br><span class="line">    <span class="keyword">case</span> f : <span class="type">BigInt</span> =&gt; <span class="type">Int</span>.<span class="type">MaxValue</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">&quot;啥也不是&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="匹配数组"><a href="#匹配数组" class="headerlink" title="匹配数组"></a>匹配数组</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (arr &lt;- <span class="type">Array</span>(<span class="type">Array</span>(<span class="number">0</span>), <span class="type">Array</span>(<span class="number">1</span>, <span class="number">0</span>), <span class="type">Array</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>),</span><br><span class="line">    <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>))) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = arr <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span></span><br><span class="line">      <span class="keyword">case</span> <span class="type">Array</span>(x, y) =&gt; x + <span class="string">&quot;=&quot;</span> + y</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>, _*) =&gt; <span class="string">&quot;以0开头和数组&quot;</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;什么集合都不是&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;result = &quot;</span> + result)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>应用案例：<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (list &lt;- <span class="type">Array</span>(<span class="type">List</span>(<span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>))) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = list <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span> :: <span class="type">Nil</span> =&gt; <span class="string">&quot;0&quot;</span> <span class="comment">//</span></span><br><span class="line">        <span class="keyword">case</span> x :: y :: <span class="type">Nil</span> =&gt; x + <span class="string">&quot; &quot;</span> + y </span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span> :: tail =&gt; <span class="string">&quot;0 ...&quot;</span> </span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="匹配元组"><a href="#匹配元组" class="headerlink" title="匹配元组"></a>匹配元组</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (pair &lt;- <span class="type">Array</span>((<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">1</span>),(<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>))) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = pair <span class="keyword">match</span> &#123; </span><br><span class="line">        <span class="keyword">case</span> (<span class="number">0</span>, _) =&gt; <span class="string">&quot;0 ...&quot;</span> </span><br><span class="line">        <span class="keyword">case</span> (y, <span class="number">0</span>) =&gt; y </span><br><span class="line">        <span class="keyword">case</span> (a,b) =&gt; (b,a)</span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="string">&quot;other&quot;</span> </span><br><span class="line">    &#125;</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对象匹配"><a href="#对象匹配" class="headerlink" title="对象匹配"></a>对象匹配</h2><ol>
<li>case中对象的unapply方法(对象提取器)返回Some集合则为匹配成功</li>
<li>返回none集合则为匹配失败<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Square</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unapply</span></span>(z: <span class="type">Double</span>): <span class="type">Option</span>[<span class="type">Double</span>] = <span class="type">Some</span>(math.sqrt(z))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(z: <span class="type">Double</span>): <span class="type">Double</span> = z * z</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 模式匹配使用：</span></span><br><span class="line"><span class="keyword">val</span> number: <span class="type">Double</span> = <span class="number">36.0</span></span><br><span class="line">number <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Square</span>(n) =&gt; println(n)</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;nothing matched&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>构建对象时apply会被调用 ，比如 val n1 = Square(5)</li>
<li>当将 Square(n) 写在 case 后时[case Square(n) =&gt; xxx]，会默认调用unapply 方法(对象提取器)</li>
<li>number 会被 传递给def unapply(z: Double) 的 z 形参</li>
<li>如果返回的是Some集合，则unapply提取器返回的结果会返回给n这个形参</li>
<li>case中对象的unapply方法(提取器)返回some集合则为匹配成功</li>
<li>返回none集合则为匹配失败</li>
</ol>
<h2 id="变量声明中的模式"><a href="#变量声明中的模式" class="headerlink" title="变量声明中的模式"></a>变量声明中的模式</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> (x, y) = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">  println(x + <span class="string">&quot;=&quot;</span> + y)  <span class="comment">//1=2</span></span><br><span class="line">  <span class="keyword">val</span> (username, age, email) = (<span class="string">&quot;zhangsan&quot;</span>, <span class="number">20</span>, <span class="string">&quot;xxxx&quot;</span>)</span><br><span class="line">  println(username + <span class="string">&quot;=&quot;</span> + age) <span class="comment">//zhangsan=20</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> (q, r) = <span class="type">BigInt</span>(<span class="number">10</span>) /% <span class="number">3</span>  <span class="comment">// 包含了2个连续的运算符</span></span><br><span class="line">  println(<span class="string">&quot;q = &quot;</span> + q) <span class="comment">//q = 3</span></span><br><span class="line">  println(<span class="string">&quot;r = &quot;</span> + r) <span class="comment">//r = 1</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> arr = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">9</span>)</span><br><span class="line">  <span class="keyword">val</span> <span class="type">Array</span>(first, second, _*) = arr</span><br><span class="line">  println(first, second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="for表达式中的模式"><a href="#for表达式中的模式" class="headerlink" title="for表达式中的模式"></a>for表达式中的模式</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> list = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>),(<span class="string">&quot;b&quot;</span>, <span class="number">2</span>),(<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))</span><br><span class="line">  <span class="keyword">for</span> (elem &lt;- list) &#123;</span><br><span class="line">    println(elem._1 + <span class="string">&quot;=&quot;</span> + elem._2)</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  <span class="comment">//模式匹配</span></span><br><span class="line">  <span class="keyword">for</span> ((k,v) &lt;- list) &#123;</span><br><span class="line">    println(k + <span class="string">&quot;=&quot;</span> + v)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="样例类"><a href="#样例类" class="headerlink" title="样例类"></a>样例类</h2><ol>
<li>样例类仍然是类</li>
<li>样例类用<font color=red>case关键字进行声明</font>。</li>
<li>样例类是为<font color=red>模式匹配(对象)而优化</font>的类</li>
<li>构造器中的每一个参数都成为val——除非它被<font color=blue>显式</font>地声明为var</li>
<li>在样例类对应的伴生对象中<font color=red>提供apply方法</font>让你不用new关键字就能构造出相应的对象</li>
<li><font color=red>提供unapply方法</font>让模式匹配可以工作</li>
<li>将<font color=red>自动生成toString、equals、hashCode和copy方法</font>(有点类似<font color=red>模板类</font>，直接给生成，供程序员使用)</li>
<li>除上述外，样例类和其他类完全一样。你可以添加方法和字段，扩展它们</li>
<li><font color=black><strong>样例类的copy方法和带名参数</strong></font><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (amt &lt;- <span class="type">Array</span>(<span class="type">Dollar</span>(<span class="number">1000.0</span>), <span class="type">Currency</span>(<span class="number">1000.0</span>, <span class="string">&quot;RMB&quot;</span>), <span class="type">NoAmount</span>)) &#123;</span><br><span class="line">    <span class="keyword">val</span> result = amt <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Dollar</span>(v) =&gt; <span class="string">&quot;$&quot;</span> + v</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Currency</span>(v, u) =&gt; v + <span class="string">&quot; &quot;</span> + u</span><br><span class="line">      <span class="keyword">case</span> <span class="type">NoAmount</span> =&gt; <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(amt + <span class="string">&quot;: &quot;</span> + result)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//copy方法</span></span><br><span class="line">  <span class="keyword">val</span> amt = <span class="type">Currency</span>(<span class="number">29.95</span>, <span class="string">&quot;RMB&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> amt1 = amt.copy()</span><br><span class="line">  <span class="keyword">val</span> amt2 = amt.copy(value = <span class="number">19.95</span>)</span><br><span class="line">  <span class="keyword">val</span> amt3 = amt.copy(unit = <span class="string">&quot;英镑&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  println(amt)</span><br><span class="line">  println(amt2)</span><br><span class="line">  println(amt3)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Dollar，Currencry, NoAmount  是样例类。</span></span><br><span class="line"><span class="comment">//可以这样理解样例类，就是样例类会默认其它很多的方法，供程序员直接使用</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Dollar</span>(<span class="params">value: <span class="type">Double</span></span>) <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Currency</span>(<span class="params">value: <span class="type">Double</span>, unit: <span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">NoAmount</span> <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;abc&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(n:<span class="type">Any</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">    n.isInstanceOf[<span class="type">Int</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    n + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>(n:<span class="type">Any</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    n.asInstanceOf[<span class="type">Int</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> list2 = list.filter(f1).map(f3).map(f2)</span><br><span class="line">println(<span class="string">&quot;list2=&quot;</span> + list2)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="密封类"><a href="#密封类" class="headerlink" title="密封类"></a>密封类</h2><ol>
<li>如果想让case类的所有子类都必须在申明该类的<font color=red>相同的源文件中定义</font>，可以将样例类的通用超类声明为sealed，这个超类称之为密封类。</li>
<li>密封就是不能在其他文件中定义子类。<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">sealed</span> <span class="class"><span class="keyword">class</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Dollar</span>(<span class="params">value: <span class="type">Double</span></span>) <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">class</span> <span class="title">Currency</span>(<span class="params">value: <span class="type">Double</span>, unit: <span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br><span class="line"><span class="class"><span class="title">case</span> <span class="title">object</span> <span class="title">NoAmount</span> <span class="keyword">extends</span> <span class="title">Amount</span></span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="函数式编程（高级部分–补充）"><a href="#函数式编程（高级部分–补充）" class="headerlink" title="函数式编程（高级部分–补充）"></a>函数式编程（高级部分–补充）</h1><ul>
<li>将包在<font color=red><strong>大括号内的一组case语句</strong></font>封装为函数，我们称之为<font color=red>偏函数</font>，它只对会作用于指定类型的参数或指定范围值的参数实施计算，超出范围的值会忽略.</li>
</ul>
<h2 id="偏函数（partial-function）"><a href="#偏函数（partial-function）" class="headerlink" title="偏函数（partial function）"></a>偏函数（partial function）</h2><ol>
<li>一个例子<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  将集合list中的所有数字+1，并返回一个新的集合</span></span><br><span class="line"><span class="comment">  要求忽略掉 非数字 的元素，即返回的 新的集合 形式为 (2, 3, 4, 5)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Any</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;abc&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">AnyVal</span>] = list.map(x =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (x.isInstanceOf[<span class="type">Int</span>]) &#123;</span><br><span class="line">      x.asInstanceOf[<span class="type">Int</span>] + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">val</span> list2 : <span class="type">List</span>[<span class="type">AnyVal</span>] = list1.filter(x=&gt;x.isInstanceOf[<span class="type">Int</span>])</span><br><span class="line">  println(list2)  <span class="comment">//List(2, 3, 4, 5)</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>向上述这种只操作一部分数据的函数，可以使用偏函数</li>
<li>偏函数在Scala中是一个特质PartialFunction</li>
<li>map方法不能执行偏函数操作，因为必须对所有的数据进行转换，不能只对其中一部分数据进行操作</li>
<li>collect方法支持偏函数，收集满足条件的数据<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  将集合list中的所有数字+1，并返回一个新的集合</span></span><br><span class="line"><span class="comment">  要求忽略掉 非数字 的元素，即返回的 新的集合 形式为 (2, 3, 4, 5)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;abc&quot;</span>)</span><br><span class="line">  <span class="comment">//说明</span></span><br><span class="line">  <span class="keyword">val</span> addOne3= <span class="keyword">new</span> <span class="type">PartialFunction</span>[<span class="type">Any</span>, <span class="type">Int</span>] &#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isDefinedAt</span></span>(any: <span class="type">Any</span>) = &#123;</span><br><span class="line">      <span class="keyword">if</span> (any.isInstanceOf[<span class="type">Int</span>]) <span class="literal">true</span></span><br><span class="line">      <span class="keyword">else</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(any: <span class="type">Any</span>) = any.asInstanceOf[<span class="type">Int</span>] + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">val</span> list3 = list.collect(addOne3)</span><br><span class="line">  println(<span class="string">&quot;list3=&quot;</span> + list3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>使用构建特质的实现类(使用的方式是PartialFunction的匿名子类)</li>
<li>PartialFunction 是个特质(看源码)</li>
<li> 构建偏函数时，参数形式   [Any, Int]是泛型，第一个表示传入参数类型，第二个  表示返回参数</li>
<li>当使用偏函数时，会遍历集合的所有元素，编译器执行流程时先执行isDefinedAt()如果为true ,就会执行 apply, 构建一个新的Int 对象返回</li>
<li>执行isDefinedAt() 为false 就过滤掉这个元素，即不构建新的Int对象.</li>
<li>map函数不支持偏函数，因为map底层的机制就是所有循环遍历，无法过滤处理原来集合的元素</li>
<li>collect函数支持偏函数</li>
</ol>
<h2 id="偏函数的简化形式"><a href="#偏函数的简化形式" class="headerlink" title="偏函数的简化形式"></a>偏函数的简化形式</h2><ul>
<li>声明偏函数，需要重写特质中的方法，有的时候会略显麻烦，而Scala其实提供了简单的方法<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  将集合list中的所有数字+1，并返回一个新的集合</span></span><br><span class="line"><span class="comment">  要求忽略掉 非数字 的元素，即返回的 新的集合 形式为 (2, 3, 4, 5)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">&quot;abc&quot;</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">val</span> list3 = list.collect(&#123;</span><br><span class="line">    <span class="keyword">case</span> i : <span class="type">Int</span> =&gt; i+<span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  println(<span class="string">&quot;list3=&quot;</span> + list3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="控制抽象"><a href="#控制抽象" class="headerlink" title="控制抽象"></a>控制抽象</h2><ol>
<li>函数作为参数传递给另一个函数，如果这个函数不需要参数，也不需要返回值，那么可以直接传递代码逻辑，参考Breakable</li>
<li>声明方式：<code>=&gt; Unit</code><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(f : =&gt; <span class="type">Unit</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">   f</span><br><span class="line"> &#125;</span><br><span class="line">  test&#123;</span><br><span class="line">    println(<span class="string">&quot;xxxxx&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="泛型-上下界-视图界定-协变逆变不变"><a href="#泛型-上下界-视图界定-协变逆变不变" class="headerlink" title="泛型-上下界-视图界定-协变逆变不变"></a>泛型-上下界-视图界定-协变逆变不变</h1><ol>
<li>泛型是对类型的约束</li>
<li>java与Scala中的泛型<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.<span class="type">ArrayList</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span>;</span><br><span class="line"> </span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">Access</span> </span>&#123;</span><br><span class="line">    public static void main(<span class="type">String</span> args [])&#123;</span><br><span class="line">        <span class="comment">//java中的泛型，不变性，即约定类型的泛型之后不能改变，无论是否是父子关系</span></span><br><span class="line">      <span class="type">List</span>&lt;<span class="type">Person</span>&gt; personList = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;<span class="type">Person</span>&gt;();    <span class="comment">//List&lt;Person&gt; personList = new ArrayList&lt;User&gt;(); 错误</span></span><br><span class="line"> </span><br><span class="line">      personList.add(<span class="keyword">new</span> <span class="type">User</span>());   <span class="comment">//User ==&gt; Person ,不变是声明时不能改变，而在添加数据可以改变数据对象</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        <span class="comment">//泛型的作用域，对声明泛型后的逻辑操作进行类型的约束，对之前的操作约束不了</span></span><br><span class="line">        <span class="type">List</span> list = <span class="keyword">new</span> <span class="type">ArrayList</span>();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="type">Student</span>());</span><br><span class="line"> </span><br><span class="line">        <span class="type">List</span>&lt;<span class="type">Person</span>&gt; personList1 = list;</span><br><span class="line">        <span class="type">System</span>.out.println(personList1);    <span class="comment">//[com.caixianquan.java.Student@29453f44]</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        约定了类型，但可以存放无关的类型数据？</span></span><br><span class="line"><span class="comment">        java中增加了泛型只能对后续的代码起作用，对之前的代码无效，比如增加、减少数据等操作进行约束</span></span><br><span class="line"><span class="comment">        而直接打印是将每个元素以字符串进行打印，如果如下遍历就会出错</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">Person</span> person: personList1) &#123;</span><br><span class="line">            <span class="type">System</span>.out.println(person); <span class="comment">//会报错</span></span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        test(<span class="type">Person</span>.<span class="keyword">class</span>);</span><br><span class="line">        test(<span class="type">User</span>.<span class="keyword">class</span>);</span><br><span class="line">        <span class="comment">//test(Student.class);</span></span><br><span class="line"> </span><br><span class="line">        test1(<span class="type">Person</span>.<span class="keyword">class</span>);</span><br><span class="line">        test1(xxx.<span class="keyword">class</span>);</span><br><span class="line">        <span class="comment">//test1(Student.class);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//extends体现了类的体系树的上限，即Person为父类，只能找Person的子类或它本身</span></span><br><span class="line">    public static void test(<span class="type">Class</span>&lt;? <span class="keyword">extends</span> <span class="type">Person</span>&gt; c)&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//super体现了类的体系树的下限，即Person为子类，只能找Person的父类或它本身</span></span><br><span class="line">    public static void test1(<span class="type">Class</span>&lt;? <span class="keyword">super</span> <span class="type">Person</span>&gt; c)&#123;</span><br><span class="line">        <span class="type">System</span>.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">xxx</span></span>&#123;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">xxx</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Hello123</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">  test[<span class="type">Person</span>](<span class="keyword">new</span> <span class="type">Person</span>)</span><br><span class="line">  test1(<span class="keyword">new</span> <span class="type">Person</span>)</span><br><span class="line">  test2(<span class="keyword">new</span> <span class="type">Child</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>[<span class="type">T</span>](t:<span class="type">T</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(t)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//限定泛型的上限,范围小于User，那么即是User的子类或当前类</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>[<span class="type">T</span> &lt;: <span class="type">User</span>](t:<span class="type">T</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(t)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//限定泛型的下限,和java不太一样，传递数据无论什么都可以传</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>[<span class="type">T</span> &gt;: <span class="type">User</span>](t:<span class="type">T</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(t)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//默认情况下，scala中的泛型和java一样，不变</span></span><br><span class="line">  <span class="comment">//在scala中，为了丰富泛型的功能，提供了协变，逆变的类型操作</span></span><br><span class="line">  <span class="keyword">val</span> parent : <span class="type">Parent</span>[<span class="type">User</span>] = <span class="keyword">new</span> <span class="type">Parent</span>[<span class="type">User</span>]</span><br><span class="line">  <span class="comment">//协变，即改变为子类，丰富功能</span></span><br><span class="line">  <span class="keyword">val</span> parent1 : <span class="type">Parent1</span>[<span class="type">Person</span>] = <span class="keyword">new</span> <span class="type">Parent1</span>[<span class="type">Child</span>]</span><br><span class="line">  <span class="comment">//逆变，修改为父类</span></span><br><span class="line">  <span class="keyword">val</span> parent2 : <span class="type">Parent2</span>[<span class="type">Person</span>] = <span class="keyword">new</span> <span class="type">Parent2</span>[<span class="type">Person</span>]</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">User</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span>[<span class="type">User</span>]</span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent1</span>[+<span class="type">User</span>]</span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent2</span>[-<span class="type">User</span>]</span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="AKKA"><a href="#AKKA" class="headerlink" title="AKKA"></a>AKKA</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Cai XianQuan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/">https://cxquang.github.io/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://cxquang.github.io" target="_blank">Cquang博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/myblog/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><a class="post-meta__tags" href="/myblog/tags/Scala/">Scala</a></div><div class="post_share"><div class="social-share" data-image="/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/myblog/2021/06/02/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7/"><img class="next-cover" src="/myblog/2021/06/02/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7%E9%A6%96%E9%A1%B5.jpg" onerror="onerror=null;src='/myblog/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">收集正则表达式技巧</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/myblog/2021/04/20/Java基础/" title="Java基础"><img class="cover" src="/myblog/2021/04/20/Java%E5%9F%BA%E7%A1%80/Java%E5%9F%BA%E7%A1%80%E9%A6%96%E9%A1%B5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-20</div><div class="title">Java基础</div></div></a></div><div><a href="/myblog/2021/02/14/jVM入门学习之内存与垃圾回收篇/" title="jVM入门学习之内存与垃圾回收篇"><img class="cover" src="/myblog/2021/02/14/jVM%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%86%85%E5%AD%98%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AF%87/jVM%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%86%85%E5%AD%98%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AF%87%E9%A6%96%E9%A1%B5.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-14</div><div class="title">jVM入门学习之内存与垃圾回收篇</div></div></a></div><div><a href="/myblog/2020/12/08/kafka入门学习/" title="kafka入门学习"><img class="cover" src="/myblog/2020/12/08/kafka%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/kafka%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-08</div><div class="title">kafka入门学习</div></div></a></div><div><a href="/myblog/2020/12/13/Flink入门学习/" title="Flink入门学习"><img class="cover" src="/myblog/2020/12/13/Flink%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0/Flink%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-13</div><div class="title">Flink入门学习</div></div></a></div><div><a href="/myblog/2020/08/08/尚硅谷大数据之Spark基础解析-一/" title="尚硅谷大数据之Spark基础解析(一)"><img class="cover" src="/myblog/2020/08/08/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8BSpark%E5%9F%BA%E7%A1%80%E8%A7%A3%E6%9E%90-%E4%B8%80/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8BSpark%E5%9F%BA%E7%A1%80%E8%A7%A3%E6%9E%90%E9%A6%96%E9%A1%B5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-08</div><div class="title">尚硅谷大数据之Spark基础解析(一)</div></div></a></div><div><a href="/myblog/2021/04/20/Java高级机制学习/" title="Java高级机制学习"><img class="cover" src="/myblog/2021/04/20/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-20</div><div class="title">Java高级机制学习</div></div></a></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/myblog/img/%E5%A4%B4%E5%83%8F.gif" onerror="this.onerror=null;this.src='/myblog/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Cai XianQuan</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/myblog/archives/"><div class="headline">文章</div><div class="length-num">29</div></a></div><div class="card-info-data-item is-center"><a href="/myblog/tags/"><div class="headline">标签</div><div class="length-num">40</div></a></div><div class="card-info-data-item is-center"><a href="/myblog/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div></div><a class="button--animated" id="card-info-btn" href="javascript:;"><i class="fab fa-bookmark"></i><span>加入书签</span></a></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">一花一世界,一木一菩提╮(￣▽ ￣)╭</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Scala%E4%B8%8EJava%E8%AF%AD%E6%B3%95%E5%8C%BA%E5%88%AB%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text">Scala与Java语法区别点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Scala%E6%A6%82%E8%BF%B0"><span class="toc-number">2.</span> <span class="toc-text">Scala概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E4%B8%8Ejava%E3%80%81jvm%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">2.1.</span> <span class="toc-text">Scala与java、jvm关系图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E7%89%B9%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">Scala特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">2.3.</span> <span class="toc-text">Scala开发环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81"><span class="toc-number">2.3.1.</span> <span class="toc-text">演示代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scala%E8%AF%AD%E8%A8%80%E8%BE%93%E5%87%BA%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">Scala语言输出的三种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9"><span class="toc-number">2.3.3.</span> <span class="toc-text">从控制台输入内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#idea%E5%BC%80%E5%8F%91Scala"><span class="toc-number">2.3.4.</span> <span class="toc-text">idea开发Scala</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text">声明变量基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#scala-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BD%93%E7%B3%BB%E4%B8%80%E8%A7%88%E5%9B%BE"><span class="toc-number">3.2.1.</span> <span class="toc-text">scala 数据类型体系一览图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.2.2.</span> <span class="toc-text">注意事项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.</span> <span class="toc-text">位运算符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">5.</span> <span class="toc-text">程序流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%8E%A7%E5%88%B6-if-else"><span class="toc-number">5.1.</span> <span class="toc-text">分支控制 if-else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">5.2.</span> <span class="toc-text">for循环控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9Cto%E2%80%9D%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.2.1.</span> <span class="toc-text">“to”的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9Cuntil%E2%80%9D%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.2.2.</span> <span class="toc-text">“until”的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%AE%88%E5%8D%AB"><span class="toc-number">5.2.3.</span> <span class="toc-text">循环守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%95%BF%E6%8E%A7%E5%88%B6"><span class="toc-number">5.2.4.</span> <span class="toc-text">步长控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%8F%98%E9%87%8F"><span class="toc-number">5.2.5.</span> <span class="toc-text">引入变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">5.2.6.</span> <span class="toc-text">循环返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">5.3.</span> <span class="toc-text">while 循环控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#break-%E5%92%8Cbreakable"><span class="toc-number">5.3.1.</span> <span class="toc-text">break()和breakable()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80"><span class="toc-number">6.</span> <span class="toc-text">函数式编程基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0%E4%BB%A5%E5%8F%8A%E8%B0%83%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">声明函数以及调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">6.2.</span> <span class="toc-text">可变参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E2%80%93%E5%B8%A6%E5%90%8D%E5%8F%82%E6%95%B0"><span class="toc-number">6.3.</span> <span class="toc-text">默认参数–带名参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">6.4.</span> <span class="toc-text">函数式编程高级用法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%EF%BC%88%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">面向对象编程（基础部分）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%85%A5%E9%97%A8"><span class="toc-number">7.1.</span> <span class="toc-text">简单入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package"><span class="toc-number">7.2.</span> <span class="toc-text">package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import"><span class="toc-number">7.3.</span> <span class="toc-text">import</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#field%E5%B1%9E%E6%80%A7"><span class="toc-number">7.4.</span> <span class="toc-text">field属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">7.5.</span> <span class="toc-text">访问权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">7.6.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">7.7.</span> <span class="toc-text">构造方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">7.7.1.</span> <span class="toc-text">父类的构造方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%AD%E7%BA%A7%E9%83%A8%E5%88%86%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">面向对象编程（中级部分）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">8.1.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8Trait"><span class="toc-number">8.2.</span> <span class="toc-text">特质Trait</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E4%BF%A1%E6%81%AF"><span class="toc-number">8.3.</span> <span class="toc-text">类信息</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%92%8C%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0"><span class="toc-number">9.</span> <span class="toc-text">隐式转换和隐式参数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%B1%BB"><span class="toc-number">9.1.</span> <span class="toc-text">隐式类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%EF%BC%88%E4%B8%8A%EF%BC%89-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">10.</span> <span class="toc-text">集合（上）-基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#scala%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-number">10.1.</span> <span class="toc-text">scala中的数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97-Seq%E7%9B%B8%E5%85%B3%E9%9B%86%E5%90%88"><span class="toc-number">10.2.</span> <span class="toc-text">序列-Seq相关集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88List"><span class="toc-number">10.2.1.</span> <span class="toc-text">不可变集合List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88ListBuffer"><span class="toc-number">10.2.2.</span> <span class="toc-text">可变集合ListBuffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%EF%BC%8C%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E2%80%94%E2%80%94Queue"><span class="toc-number">10.2.3.</span> <span class="toc-text">队列，可变集合——Queue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E7%9B%B8%E5%85%B3%E9%9B%86%E5%90%88"><span class="toc-number">10.3.</span> <span class="toc-text">Set相关集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E7%9B%B8%E5%85%B3%E9%9B%86%E5%90%88"><span class="toc-number">10.4.</span> <span class="toc-text">Map相关集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">10.5.</span> <span class="toc-text">元组</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%EF%BC%88%E4%B8%8B%EF%BC%89-%E5%BA%94%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">11.</span> <span class="toc-text">集合（下）-应用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">11.1.</span> <span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala-wordCount%E8%A7%A3%E6%9E%90"><span class="toc-number">11.2.</span> <span class="toc-text">Scala wordCount解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reduce%E6%96%B9%E6%B3%95"><span class="toc-number">11.3.</span> <span class="toc-text">reduce方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fold%E6%96%B9%E6%B3%95"><span class="toc-number">11.4.</span> <span class="toc-text">fold方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%EF%BC%88match%EF%BC%89"><span class="toc-number">12.</span> <span class="toc-text">模式匹配（match）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#match%E7%9A%84%E7%BB%86%E8%8A%82%E5%92%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">12.1.</span> <span class="toc-text">match的细节和注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%88%E5%8D%AB"><span class="toc-number">12.2.</span> <span class="toc-text">守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-1"><span class="toc-number">12.3.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%8C%B9%E9%85%8D"><span class="toc-number">12.4.</span> <span class="toc-text">类型匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84"><span class="toc-number">12.5.</span> <span class="toc-text">匹配数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%85%83%E7%BB%84"><span class="toc-number">12.6.</span> <span class="toc-text">匹配元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%8C%B9%E9%85%8D"><span class="toc-number">12.7.</span> <span class="toc-text">对象匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.8.</span> <span class="toc-text">变量声明中的模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.9.</span> <span class="toc-text">for表达式中的模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E7%B1%BB"><span class="toc-number">12.10.</span> <span class="toc-text">样例类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E5%B0%81%E7%B1%BB"><span class="toc-number">12.11.</span> <span class="toc-text">密封类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%EF%BC%88%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86%E2%80%93%E8%A1%A5%E5%85%85%EF%BC%89"><span class="toc-number">13.</span> <span class="toc-text">函数式编程（高级部分–补充）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0%EF%BC%88partial-function%EF%BC%89"><span class="toc-number">13.1.</span> <span class="toc-text">偏函数（partial function）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E5%8C%96%E5%BD%A2%E5%BC%8F"><span class="toc-number">13.2.</span> <span class="toc-text">偏函数的简化形式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%8A%BD%E8%B1%A1"><span class="toc-number">13.3.</span> <span class="toc-text">控制抽象</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B-%E4%B8%8A%E4%B8%8B%E7%95%8C-%E8%A7%86%E5%9B%BE%E7%95%8C%E5%AE%9A-%E5%8D%8F%E5%8F%98%E9%80%86%E5%8F%98%E4%B8%8D%E5%8F%98"><span class="toc-number">14.</span> <span class="toc-text">泛型-上下界-视图界定-协变逆变不变</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AKKA"><span class="toc-number">15.</span> <span class="toc-text">AKKA</span></a></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/" title="Scala语法学习"><img src="/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg" onerror="this.onerror=null;this.src='/myblog/img/404.jpg'" alt="Scala语法学习"/></a><div class="content"><a class="title" href="/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/" title="Scala语法学习">Scala语法学习</a><time datetime="2021-08-31T02:10:50.000Z" title="发表于 2021-08-31 10:10:50">2021-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myblog/2021/06/02/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7/" title="收集正则表达式技巧"><img src="/myblog/2021/06/02/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7%E9%A6%96%E9%A1%B5.jpg" onerror="this.onerror=null;this.src='/myblog/img/404.jpg'" alt="收集正则表达式技巧"/></a><div class="content"><a class="title" href="/myblog/2021/06/02/%E6%94%B6%E9%9B%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8A%80%E5%B7%A7/" title="收集正则表达式技巧">收集正则表达式技巧</a><time datetime="2021-06-02T07:25:22.000Z" title="发表于 2021-06-02 15:25:22">2021-06-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myblog/2021/04/26/hello-world/" title="Hello World"><img src="/myblog/img/default_cover.jpg" onerror="this.onerror=null;this.src='/myblog/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/myblog/2021/04/26/hello-world/" title="Hello World">Hello World</a><time datetime="2021-04-26T13:25:30.164Z" title="发表于 2021-04-26 21:25:30">2021-04-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myblog/2021/04/20/Java%E5%9F%BA%E7%A1%80/" title="Java基础"><img src="/myblog/2021/04/20/Java%E5%9F%BA%E7%A1%80/Java%E5%9F%BA%E7%A1%80%E9%A6%96%E9%A1%B5.jpg" onerror="this.onerror=null;this.src='/myblog/img/404.jpg'" alt="Java基础"/></a><div class="content"><a class="title" href="/myblog/2021/04/20/Java%E5%9F%BA%E7%A1%80/" title="Java基础">Java基础</a><time datetime="2021-04-20T15:02:55.000Z" title="发表于 2021-04-20 23:02:55">2021-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/myblog/2021/04/20/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0/" title="Java高级机制学习"><img src="/myblog/2021/04/20/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg" onerror="this.onerror=null;this.src='/myblog/img/404.jpg'" alt="Java高级机制学习"/></a><div class="content"><a class="title" href="/myblog/2021/04/20/Java%E9%AB%98%E7%BA%A7%E6%9C%BA%E5%88%B6%E5%AD%A6%E4%B9%A0/" title="Java高级机制学习">Java高级机制学习</a><time datetime="2021-04-19T19:04:07.000Z" title="发表于 2021-04-20 03:04:07">2021-04-20</time></div></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/myblog/2021/08/31/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/Scala%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0%E9%A6%96%E9%A1%B5.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Cai XianQuan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,  welcome  to  my  <a  target="_blank" rel="noopener" href="https://www.caixianquan.tk">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/myblog/js/utils.js"></script><script src="/myblog/js/main.js"></script><script src="/myblog/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/myblog/js/search/local-search.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/myblog/js/bookmark.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script></div></body></html>